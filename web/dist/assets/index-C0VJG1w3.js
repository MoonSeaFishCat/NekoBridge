var kr=Object.defineProperty;var _r=(s,e,r)=>e in s?kr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var se=(s,e,r)=>_r(s,typeof e!="symbol"?e+"":e,r);import{r as a,a as Pr,R as Te}from"./vendor-B66pqchS.js";import{a as Lr}from"./utils-ngrFHoWO.js";import{F as x,C,T as K,S as E,B as g,I as Z,M as v,P as De,a as te,b as re,D as he,R as ir,c as X,d as ee,U as Er,e as Se,f as ue,g as R,h as ne,i as B,j as ar,k as ve,l as lr,A as pe,m as Dr,n as Ge,o as cr,p as Ir,q as Fr}from"./tdesign-DhKEQWbm.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();var dr={exports:{}},ke={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $r=a,Ar=Symbol.for("react.element"),Mr=Symbol.for("react.fragment"),Br=Object.prototype.hasOwnProperty,zr=$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vr={key:!0,ref:!0,__self:!0,__source:!0};function ur(s,e,r){var n,o={},l=null,i=null;r!==void 0&&(l=""+r),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)Br.call(e,n)&&!Vr.hasOwnProperty(n)&&(o[n]=e[n]);if(s&&s.defaultProps)for(n in e=s.defaultProps,e)o[n]===void 0&&(o[n]=e[n]);return{$$typeof:Ar,type:s,key:l,ref:i,props:o,_owner:zr.current}}ke.Fragment=Mr;ke.jsx=ur;ke.jsxs=ur;dr.exports=ke;var t=dr.exports,Ae={},Ye=Pr;Ae.createRoot=Ye.createRoot,Ae.hydrateRoot=Ye.hydrateRoot;function Tr(s,e){if(s==null)return{};var r={},n=Object.keys(s),o,l;for(l=0;l<n.length;l++)o=n[l],!(e.indexOf(o)>=0)&&(r[o]=s[o]);return r}function Hr(s,e){if(s==null)return{};var r=Tr(s,e),n,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(o=0;o<l.length;o++)n=l[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(r[n]=s[n])}return r}function I(s,e,r){return e in s?Object.defineProperty(s,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[e]=r,s}var hr={exports:{}};/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(s){(function(){var e={}.hasOwnProperty;function r(){for(var n=[],o=0;o<arguments.length;o++){var l=arguments[o];if(l){var i=typeof l;if(i==="string"||i==="number")n.push(l);else if(Array.isArray(l)&&l.length){var c=r.apply(null,l);c&&n.push(c)}else if(i==="object")for(var j in l)e.call(l,j)&&l[j]&&n.push(j)}}return n.join(" ")}s.exports?(r.default=r,s.exports=r):window.classNames=r})()})(hr);var Nr=hr.exports,Zr="t",Wr="zh-CN",Rr=a.createContext({classPrefix:Zr,locale:Wr}),Kr=function(){return a.useContext(Rr)};function Ur(){var s=Kr(),e=s.classPrefix;return a.useMemo(function(){return{SIZE:{default:"",xs:"".concat(e,"-size-xs"),small:"".concat(e,"-size-s"),medium:"".concat(e,"-size-m"),large:"".concat(e,"-size-l"),xl:"".concat(e,"-size-xl"),block:"".concat(e,"-size-full-width")},STATUS:{loading:"".concat(e,"-is-loading"),disabled:"".concat(e,"-is-disabled"),focused:"".concat(e,"-is-focused"),success:"".concat(e,"-is-success"),error:"".concat(e,"-is-error"),warning:"".concat(e,"-is-warning"),selected:"".concat(e,"-is-selected"),active:"".concat(e,"-is-active"),checked:"".concat(e,"-is-checked"),current:"".concat(e,"-is-current"),hidden:"".concat(e,"-is-hidden"),visible:"".concat(e,"-is-visible"),expanded:"".concat(e,"-is-expanded"),indeterminate:"".concat(e,"-is-indeterminate")}}},[e])}function qr(s){var e=Ur().SIZE;return typeof s>"u"?{}:s in e?{className:e[s],style:{}}:{className:"",style:{fontSize:s}}}function Jr(){var s="__TDESIGN_ICON_STYLE__",e=`@keyframes t-spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  .t-icon {
    display: inline-block;
    vertical-align: middle;
    width: 1em;
    height: 1em;
  }
  .t-icon::before {
    font-family: unset;
  }
  .t-icon-loading {
    animation: t-spin 1s linear infinite;
  }
  .t-icon {
    fill: currentColor;
  }
  .t-icon.t-size-s,
  i.t-size-s {
    font-size: 14px;
  }
  .t-icon.t-size-m,
  i.t-size-m {
    font-size: 16px;
  }
  .t-icon.t-size-l,
  i.t-size-l {
    font-size: 18px;
  }
  `;if(!(!document||document.getElementById(s))){var r=document.createElement("style");r.setAttribute("id",s),r.innerHTML=e,document.head.appendChild(r)}}var Gr=["icon","id","className","size","style"];function Qe(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function ge(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qe(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}function pr(s,e,r){return a.createElement(s.tag,ge(ge({key:e},s.attrs),r),(s.children||[]).map(function(n,o){return pr(n,"".concat(e,"-").concat(s.tag,"-").concat(o))}))}var F=a.forwardRef(function(s,e){var r=s.icon,n=s.id,o=s.className,l=s.size,i=s.style,c=Hr(s,Gr),j=qr(l),b=j.className,u=j.style,m=Nr("t-icon","t-icon-".concat(n),o,b);return a.useEffect(function(){Jr()},[]),pr(r,"".concat(n),ge({ref:e,className:m,style:ge(ge({},i),u)},c))});function Xe(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function et(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xe(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var Yr={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13 4V11L20 11V13L13 13V20H11L11 13H4L4 11L11 11L11 4L13 4Z"}}]},He=a.forwardRef(function(s,e){return a.createElement(F,et(et({},s),{},{id:"add",ref:e,icon:Yr}))});He.displayName="AddIcon";function tt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function rt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var Qr={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 6C3 3.79086 4.79086 2 7 2H21V22H7C4.79086 22 3 20.2091 3 18V6ZM5 14.5351C5.58835 14.1948 6.27143 14 7 14H19V4H7C5.89543 4 5 4.89543 5 6V14.5351ZM19 16H7C5.89543 16 5 16.8954 5 18C5 19.1046 5.89543 20 7 20H19V16ZM10 6H17V8H10V6Z"}}]},_e=a.forwardRef(function(s,e){return a.createElement(F,rt(rt({},s),{},{id:"book",ref:e,icon:Qr}))});_e.displayName="BookIcon";function nt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function st(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var Xr={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM23 12C23 18.0751 18.0751 23 12 23C5.92487 23 0.999999 18.0751 1 12C1 5.92487 5.92487 0.999999 12 1C18.0751 1 23 5.92487 23 12ZM10.5 16.4142L6.08578 12L7.5 10.5858L10.5 13.5858L16.5 7.58579L17.9142 9L10.5 16.4142Z"}}]},Pe=a.forwardRef(function(s,e){return a.createElement(F,st(st({},s),{},{id:"check-circle",ref:e,icon:Xr}))});Pe.displayName="CheckCircleIcon";function ot(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function it(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ot(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var en={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.04996 5.63599L11.9997 10.5857L16.9494 5.63599L18.3637 7.0502L13.4139 11.9999L18.3637 16.9497L16.9494 18.3639L11.9997 13.4142L7.04996 18.3639L5.63574 16.9497L10.5855 11.9999L5.63574 7.0502L7.04996 5.63599Z"}}]},fr=a.forwardRef(function(s,e){return a.createElement(F,it(it({},s),{},{id:"close",ref:e,icon:en}))});fr.displayName="CloseIcon";function at(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function lt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?at(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var tn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2H15V7.5H13V4H4V13H7.5V15H2V2ZM9 9H22V22H9V9ZM11 11V20H20V11H11Z"}}]},Ne=a.forwardRef(function(s,e){return a.createElement(F,lt(lt({},s),{},{id:"copy",ref:e,icon:tn}))});Ne.displayName="CopyIcon";function ct(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function dt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ct(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var rn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 3C7.02944 3 3 7.02944 3 12C3 15.3297 4.80766 18.2384 7.49994 19.7961L8.36549 20.2969L7.36386 22.028L6.49831 21.5272C3.21354 19.6266 1 16.0724 1 12C1 5.92487 5.92487 1 12 1C13.2027 1 14.3623 1.19339 15.4481 1.55154L16.3977 1.86478L15.7713 3.76412L14.8216 3.45088C13.9354 3.15858 12.9872 3 12 3ZM20.981 4.41444L15.4386 9.95577C15.7949 10.554 16 11.2535 16 12.0001C16 14.2092 14.2091 16.0001 12 16.0001C9.79086 16.0001 8 14.2092 8 12.0001C8 9.79095 9.79086 8.00009 12 8.00009C12.7362 8.00009 13.4266 8.19956 14.0193 8.54668L19.5669 3.00009L20.981 4.41444ZM22.1352 7.60226L22.4485 8.55193C22.8066 9.63775 23 10.7973 23 12C23 16.0713 20.7877 19.6247 17.5044 21.5257L16.639 22.0267L15.6369 20.2959L16.5023 19.7948C19.1933 18.2367 21 15.3288 21 12C21 11.0128 20.8414 10.0646 20.5491 9.17841L20.2359 8.22874L22.1352 7.60226ZM12 10.0001C10.8954 10.0001 10 10.8955 10 12.0001C10 13.1047 10.8954 14.0001 12 14.0001C13.1046 14.0001 14 13.1047 14 12.0001C14 11.4442 13.7745 10.9428 13.4075 10.5792C13.045 10.2201 12.5492 10.0001 12 10.0001Z"}}]},mr=a.forwardRef(function(s,e){return a.createElement(F,dt(dt({},s),{},{id:"dashboard",ref:e,icon:rn}))});mr.displayName="DashboardIcon";function ut(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function ht(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ut(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var nn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.5 1H16.5V4H22V6H19.971L19.471 23H4.52898L4.02898 6H2V4H7.5V1ZM9.5 4H14.5V3H9.5V4ZM6.02984 6L6.47102 21H17.529L17.9702 6H6.02984ZM13 8V19H11V8H13Z"}}]},Ze=a.forwardRef(function(s,e){return a.createElement(F,ht(ht({},s),{},{id:"delete",ref:e,icon:nn}))});Ze.displayName="DeleteIcon";function pt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function ft(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var sn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M1 3H23V18H13V20H17V22H7V20H11V18H1V3ZM3 5V16H21V5H3Z"}}]},gr=a.forwardRef(function(s,e){return a.createElement(F,ft(ft({},s),{},{id:"desktop",ref:e,icon:sn}))});gr.displayName="DesktopIcon";function mt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function gt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var on={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13 3L13 12.5858L16.5 9.08579L17.9142 10.5L12 16.4142L6.08579 10.5L7.5 9.08579L11 12.5858L11 3L13 3ZM4.5 14V19H19.5V14H21.5V21H2.5V14H4.5Z"}}]},We=a.forwardRef(function(s,e){return a.createElement(F,gt(gt({},s),{},{id:"download",ref:e,icon:on}))});We.displayName="DownloadIcon";function xt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function yt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var an={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15.7478 2.94736C16.5289 2.16631 17.7952 2.16631 18.5763 2.94736L21.0511 5.42223C21.8322 6.20328 21.8322 7.46961 21.0511 8.25066L9.15806 20.1437L2.77832 21.2202L3.85476 14.8404L15.7478 2.94736ZM15.5192 6.00439L17.9941 8.47927L19.6369 6.83645L17.1621 4.36157L15.5192 6.00439ZM16.5799 9.89348L14.105 7.41861L5.72062 15.803L5.21828 18.7802L8.19549 18.2779L16.5799 9.89348Z"}}]},Me=a.forwardRef(function(s,e){return a.createElement(F,yt(yt({},s),{},{id:"edit",ref:e,icon:an}))});Me.displayName="EditIcon";function jt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function bt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var ln={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3ZM1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12ZM13 6.5V14H11V6.5H13ZM11 15.5H13.0039V17.5039H11V15.5Z"}}]},ye=a.forwardRef(function(s,e){return a.createElement(F,bt(bt({},s),{},{id:"error-circle",ref:e,icon:ln}))});ye.displayName="ErrorCircleIcon";function wt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function vt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var cn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13 2L13 16.5H11L11 2L13 2ZM11 19H13.0039V21.0039H11V19Z"}}]},xr=a.forwardRef(function(s,e){return a.createElement(F,vt(vt({},s),{},{id:"error",ref:e,icon:cn}))});xr.displayName="ErrorIcon";function Ct(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function Ot(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ct(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var dn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M22.4997 12C22.4997 6.20101 17.7987 1.5 11.9997 1.5C10.202 1.5 8.50694 1.95264 7.02537 2.75098C5.63073 3.50248 4.42555 4.56009 3.49974 5.83442V2.5H1.49974V9.5H8.49974V7.5H4.78715C5.56985 6.24843 6.6697 5.21451 7.9741 4.51164C9.17133 3.86651 10.5412 3.5 11.9997 3.5C16.6942 3.5 20.4997 7.30558 20.4997 12C20.4997 16.6944 16.6942 20.5 11.9997 20.5C7.60814 20.5 3.9933 17.1687 3.54632 12.896L3.44227 11.9014L1.45312 12.1095L1.55717 13.104C2.10958 18.3846 6.57341 22.5 11.9997 22.5C17.7987 22.5 22.4997 17.799 22.4997 12ZM10.9997 6V12.4142L14.4997 15.9142L15.914 14.5L12.9997 11.5858V6H10.9997Z"}}]},Re=a.forwardRef(function(s,e){return a.createElement(F,Ot(Ot({},s),{},{id:"history",ref:e,icon:dn}))});Re.displayName="HistoryIcon";function St(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function kt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?St(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var un={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM23 12C23 18.0751 18.0751 23 12 23C5.92487 23 0.999999 18.0751 1 12C1 5.92487 5.92487 0.999999 12 1C18.0751 1 23 5.92487 23 12ZM11 17.5L11 10H13L13 17.5L11 17.5ZM13 8.5H10.9961L10.9961 6.49609H13L13 8.5Z"}}]},Be=a.forwardRef(function(s,e){return a.createElement(F,kt(kt({},s),{},{id:"info-circle",ref:e,icon:un}))});Be.displayName="InfoCircleIcon";function _t(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function Pt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_t(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var hn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10.8284 9.17157C9.26633 7.60948 6.73367 7.60948 5.17157 9.17157C3.60948 10.7337 3.60948 13.2663 5.17157 14.8284C6.73367 16.3905 9.26633 16.3905 10.8284 14.8284C12.3905 13.2663 12.3905 10.7337 10.8284 9.17157ZM3.75736 7.75736C6.10051 5.41421 9.8995 5.41421 12.2426 7.75736C13.1589 8.67365 13.7169 9.81257 13.9166 11H22V13H20.5V15H18.5V13H17.5V15.9985H15.5V13H13.9166C13.7169 14.1874 13.1589 15.3264 12.2426 16.2426C9.8995 18.5858 6.10051 18.5858 3.75736 16.2426C1.41421 13.8995 1.41421 10.1005 3.75736 7.75736Z"}}]},Ke=a.forwardRef(function(s,e){return a.createElement(F,Pt(Pt({},s),{},{id:"key",ref:e,icon:hn}))});Ke.displayName="KeyIcon";function Lt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function Et(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var pn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13.2925 3.95949C15.1558 2.09618 18.1768 2.09619 20.0401 3.95949C21.9034 5.8228 21.9034 8.84381 20.0401 10.7071L17.0094 13.7379L15.5952 12.3236L18.6259 9.29291C19.7082 8.21065 19.7082 6.45596 18.6259 5.37371C17.5436 4.29145 15.789 4.29145 14.7067 5.3737L11.676 8.40444L10.2617 6.99023L13.2925 3.95949ZM15.4125 9.99989L9.99826 15.4142L8.58405 14L13.9983 8.58568L15.4125 9.99989ZM8.40395 11.6764L5.37322 14.7072C4.29096 15.7894 4.29096 17.5441 5.37322 18.6264C6.45547 19.7086 8.21016 19.7086 9.29242 18.6264L12.3232 15.5956L13.7374 17.0099L10.7066 20.0406C8.84333 21.9039 5.82231 21.9039 3.959 20.0406C2.0957 18.1773 2.0957 15.1563 3.959 13.293L6.98974 10.2622L8.40395 11.6764Z"}}]},je=a.forwardRef(function(s,e){return a.createElement(F,Et(Et({},s),{},{id:"link",ref:e,icon:pn}))});je.displayName="LinkIcon";function Dt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function It(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var fn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 3C14.2091 3 16 4.79086 16 7V10H8V7C8 4.79086 9.79086 3 12 3ZM18 10V7C18 3.68629 15.3137 1 12 1C8.68629 1 6 3.68629 6 7V10H3.5V22H20.5V10H18ZM5.5 12H18.5V20H5.5V12ZM9 15H15V17H9V15Z"}}]},Ce=a.forwardRef(function(s,e){return a.createElement(F,It(It({},s),{},{id:"lock-on",ref:e,icon:fn}))});Ce.displayName="LockOnIcon";function Ft(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function $t(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ft(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var mn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10.412 4.15761C6.75443 4.8942 4 8.12543 4 12C4 16.4183 7.58172 20 12 20C14.9602 20 17.5466 18.3918 18.9302 15.9997C13.9918 15.9622 10 11.9473 10 7C10 6.02085 10.1313 5.06315 10.412 4.15761ZM2 12C2 6.47715 6.47715 2 12 2H13.7337L12.8656 3.50069C12.2871 4.50091 12 5.68848 12 7C12 10.866 15.134 14 19 14C19.4618 14 19.9122 13.9554 20.3475 13.8706L22.0301 13.5428L21.4872 15.1689C20.1623 19.1373 16.4167 22 12 22C6.47715 22 2 17.5228 2 12Z"}}]},Oe=a.forwardRef(function(s,e){return a.createElement(F,$t($t({},s),{},{id:"moon",ref:e,icon:mn}))});Oe.displayName="MoonIcon";function At(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function Mt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?At(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var gn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 3C7.02944 3 3 7.02944 3 12C3 17.0037 6.71453 20.8971 11.6525 20.8971C11.6537 20.8971 11.6548 20.8971 11.656 20.8971C11.6089 20.8179 11.5569 20.7352 11.5003 20.6453C11.4936 20.6345 11.4867 20.6236 11.4798 20.6126C11.0796 19.976 10.7698 19.1472 10.8266 18.2381C10.8855 17.2958 11.3322 16.3824 12.2414 15.6216C13.2726 14.7588 14.5044 14.7376 15.4591 14.7755C15.6735 14.784 15.8755 14.7949 16.0672 14.8053C16.8254 14.8463 17.4252 14.8787 18.014 14.7199C19.8659 14.2201 20.8951 12.9899 21.0023 11.3967C21.3234 6.62094 17.1147 3 12 3ZM1 12C1 5.92487 5.92487 1 12 1C17.931 1 23.4176 5.28585 22.9977 11.5309C22.8253 14.0956 21.0902 15.9613 18.535 16.6508C17.6033 16.9022 16.603 16.8433 15.8269 16.7976C15.6676 16.7882 15.5177 16.7794 15.3798 16.7739C14.463 16.7376 13.9295 16.8169 13.5249 17.1555C12.9984 17.596 12.8444 18.0158 12.8227 18.3628C12.7989 18.743 12.9286 19.1594 13.1731 19.5483C13.1816 19.5619 13.1906 19.5762 13.2 19.5911C13.2963 19.7438 13.4359 19.9652 13.5521 20.1961C13.6721 20.4347 13.8297 20.8004 13.8419 21.209C13.8565 21.697 13.6567 22.2143 13.1424 22.5468C12.7172 22.8217 12.183 22.8971 11.6525 22.8971C5.54478 22.8971 1 18.042 1 12ZM9.75 7.00391C9.75 5.89934 10.6454 5.00391 11.75 5.00391C12.8546 5.00391 13.75 5.89934 13.75 7.00391C13.75 8.10848 12.8546 9.00391 11.75 9.00391C10.6454 9.00391 9.75 8.10848 9.75 7.00391ZM5.0293 10.0039C5.0293 8.89934 5.92473 8.00391 7.0293 8.00391C8.13387 8.00391 9.0293 8.89934 9.0293 10.0039C9.0293 11.1085 8.13387 12.0039 7.0293 12.0039C5.92473 12.0039 5.0293 11.1085 5.0293 10.0039ZM14.5176 10.0039C14.5176 8.89934 15.413 8.00391 16.5176 8.00391C17.6221 8.00391 18.5176 8.89934 18.5176 10.0039C18.5176 11.1085 17.6221 12.0039 16.5176 12.0039C15.413 12.0039 14.5176 11.1085 14.5176 10.0039Z"}}]},yr=a.forwardRef(function(s,e){return a.createElement(F,Mt(Mt({},s),{},{id:"palette",ref:e,icon:gn}))});yr.displayName="PaletteIcon";function Bt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function zt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var xn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13 2V12H11V2H13ZM16.7806 3.72791L17.5889 4.31676C19.9574 6.04242 21.5 8.84092 21.5 11.9996C21.5 17.2463 17.2467 21.4996 12 21.4996C6.75329 21.4996 2.5 17.2463 2.5 11.9996C2.5 8.84092 4.04258 6.04242 6.41114 4.31676L7.21938 3.72791L8.39709 5.34438L7.58886 5.93324C5.71475 7.29865 4.5 9.50721 4.5 11.9996C4.5 16.1417 7.85786 19.4996 12 19.4996C16.1421 19.4996 19.5 16.1417 19.5 11.9996C19.5 9.50721 18.2853 7.29865 16.4111 5.93324L15.6029 5.34438L16.7806 3.72791Z"}}]},Le=a.forwardRef(function(s,e){return a.createElement(F,zt(zt({},s),{},{id:"poweroff",ref:e,icon:xn}))});Le.displayName="PoweroffIcon";function Vt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function Tt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var yn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M20.4997 5.83468C18.5918 3.20865 15.4961 1.5 11.9997 1.5C6.57341 1.5 2.10958 5.61542 1.55717 10.896L1.45312 11.8905L3.44227 12.0986L3.54632 11.104C3.9933 6.83125 7.60814 3.5 11.9997 3.5C15.0404 3.5 17.7099 5.09688 19.2125 7.5H15.4997V9.5H22.4997V2.5H20.4997V5.83468ZM20.5572 11.9014L20.4532 12.896C20.0062 17.1687 16.3913 20.5 11.9997 20.5C8.95904 20.5 6.28956 18.9031 4.78702 16.5H8.49974V14.5H1.49974V21.5H3.49974V18.1653C5.40769 20.7914 8.50342 22.5 11.9997 22.5C17.4261 22.5 21.8899 18.3846 22.4423 13.104L22.5464 12.1095L20.5572 11.9014Z"}}]},q=a.forwardRef(function(s,e){return a.createElement(F,Tt(Tt({},s),{},{id:"refresh",ref:e,icon:yn}))});q.displayName="RefreshIcon";function Ht(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function Nt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ht(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var jn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2L16.4142 2L22 7.58579L22 22L2 22L2 2ZM4 4L4 20H6L6 14L18 14V20H20L20 8.41421L15.5858 4L13 4L13 8L6 8L6 4L4 4ZM8 4V6L11 6V4L8 4ZM16 20L16 16H8V20L16 20Z"}}]},jr=a.forwardRef(function(s,e){return a.createElement(F,Nt(Nt({},s),{},{id:"save",ref:e,icon:jn}))});jr.displayName="SaveIcon";function Zt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function Wt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var bn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15.0962 5.90381C12.5578 3.3654 8.44221 3.3654 5.90381 5.90381C3.3654 8.44221 3.3654 12.5578 5.90381 15.0962C8.44221 17.6346 12.5578 17.6346 15.0962 15.0962C17.6346 12.5578 17.6346 8.44221 15.0962 5.90381ZM4.48959 4.48959C7.80905 1.17014 13.191 1.17014 16.5104 4.48959C19.5906 7.56983 19.8126 12.4259 17.1764 15.7621L22.5208 21.1066L21.1066 22.5208L15.7621 17.1764C12.4259 19.8126 7.56983 19.5906 4.48959 16.5104C1.17014 13.191 1.17014 7.80905 4.48959 4.48959Z"}}]},br=a.forwardRef(function(s,e){return a.createElement(F,Wt(Wt({},s),{},{id:"search",ref:e,icon:bn}))});br.displayName="SearchIcon";function Rt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function Kt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var wn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12.0001 0.845337L21.6604 6.42269V17.5774L12.0001 23.1547L2.33984 17.5774V6.42269L12.0001 0.845337ZM12.0001 3.15474L4.33984 7.57739V16.4227L12.0001 20.8453L19.6604 16.4227V7.57739L12.0001 3.15474ZM12.0001 9.00004C10.3432 9.00004 9.0001 10.3432 9.0001 12C9.0001 13.6569 10.3432 15 12.0001 15C13.657 15 15.0001 13.6569 15.0001 12C15.0001 10.3432 13.657 9.00004 12.0001 9.00004ZM7.0001 12C7.0001 9.23861 9.23867 7.00004 12.0001 7.00004C14.7615 7.00004 17.0001 9.23861 17.0001 12C17.0001 14.7615 14.7615 17 12.0001 17C9.23867 17 7.0001 14.7615 7.0001 12Z"}}]},be=a.forwardRef(function(s,e){return a.createElement(F,Kt(Kt({},s),{},{id:"setting",ref:e,icon:wn}))});be.displayName="SettingIcon";function Ut(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function qt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ut(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var vn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM23 12C23 18.0751 18.0751 23 12 23C5.92487 23 0.999999 18.0751 1 12C1 5.92487 5.92487 0.999999 12 1C18.0751 1 23 5.92487 23 12ZM15 16.4142L11 12.4142L11 5.5H13L13 11.5858L16.4142 15L15 16.4142Z"}}]},wr=a.forwardRef(function(s,e){return a.createElement(F,qt(qt({},s),{},{id:"time",ref:e,icon:vn}))});wr.displayName="TimeIcon";function Jt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function Gt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var Cn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 2.58569L17.9142 8.49991L16.5 9.91412L13 6.41412L13 15.9999H11L11 6.41412L7.5 9.91412L6.08579 8.49991L12 2.58569ZM4.5 13.9999V18.9999H19.5V13.9999H21.5V20.9999H2.5V13.9999H4.5Z"}}]},vr=a.forwardRef(function(s,e){return a.createElement(F,Gt(Gt({},s),{},{id:"upload",ref:e,icon:Cn}))});vr.displayName="UploadIcon";function Yt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function Qt(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var On={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 4C10.067 4 8.5 5.567 8.5 7.5C8.5 9.433 10.067 11 12 11C13.933 11 15.5 9.433 15.5 7.5C15.5 5.567 13.933 4 12 4ZM6.5 7.5C6.5 4.46243 8.96243 2 12 2C15.0376 2 17.5 4.46243 17.5 7.5C17.5 10.5376 15.0376 13 12 13C8.96243 13 6.5 10.5376 6.5 7.5ZM3 19C3 16.2386 5.23858 14 8 14H16C18.7614 14 21 16.2386 21 19V22H3V19ZM8 16C6.34315 16 5 17.3431 5 19V20H19V19C19 17.3431 17.6569 16 16 16H8Z"}}]},Ue=a.forwardRef(function(s,e){return a.createElement(F,Qt(Qt({},s),{},{id:"user",ref:e,icon:On}))});Ue.displayName="UserIcon";function Xt(s,e){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),r.push.apply(r,n)}return r}function er(s){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xt(Object(r),!0).forEach(function(n){I(s,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(r,n))})}return s}var Sn={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M21.1926 9.8076C16.1158 4.73082 7.88466 4.73078 2.80784 9.8076L2.10074 10.5147L0.686523 9.10049L1.39363 8.39339C7.2515 2.53551 16.749 2.53556 22.6068 8.39339L23.3139 9.10049L21.8997 10.5147L21.1926 9.8076ZM16.5964 14.4038C14.058 11.8654 9.94245 11.8654 7.40404 14.4038L6.69693 15.1109L5.28271 13.6967L5.98982 12.9896C9.30929 9.67011 14.6912 9.67016 18.0106 12.9896L18.7177 13.6967L17.3035 15.1109L16.5964 14.4038ZM10.586 17.5858C11.3671 16.8047 12.6335 16.8048 13.4145 17.5858L14.1216 18.2929L12.0003 20.4142L9.87894 18.2929L10.586 17.5858Z"}}]},Cr=a.forwardRef(function(s,e){return a.createElement(F,er(er({},s),{},{id:"wifi",ref:e,icon:Sn}))});Cr.displayName="WifiIcon";const xe="qq-webhook-theme",oe={enableWebConsole:!0,theme:"light",primaryColor:"#165DFF",compact:!1,language:"zh-CN",showBreadcrumb:!0,showFooter:!0,enableAnimation:!0},Or=()=>typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",kn=()=>{try{const s=localStorage.getItem(xe);if(s){const e=JSON.parse(s);return e.theme==="auto"&&(e.theme="light",localStorage.setItem(xe,JSON.stringify(e))),{...oe,...e}}}catch(s){console.warn("Failed to parse stored theme:",s),localStorage.removeItem(xe)}return oe},tr=s=>{try{localStorage.setItem(xe,JSON.stringify(s))}catch(e){console.warn("Failed to save theme:",e)}},fe=s=>{const e=document.documentElement,r=s.theme==="auto"?Or():s.theme;e.setAttribute("data-theme",r),e.style.setProperty("--td-brand-color",s.primaryColor),s.compact?e.classList.add("tdesign-compact"):e.classList.remove("tdesign-compact"),e.setAttribute("lang",s.language)},Sr=()=>{const[s,e]=a.useState(()=>kn());a.useEffect(()=>{fe(s)},[s]),a.useEffect(()=>{const m=window.matchMedia("(prefers-color-scheme: dark)"),S=()=>{s.theme==="auto"&&fe(s)};return m.addEventListener("change",S),()=>m.removeEventListener("change",S)},[s.theme]);const r=m=>{const S={...s,...m};e(S),tr(S),fe(S)},n=()=>{const m=s.theme==="light"?"dark":s.theme==="dark"?"auto":"light";r({theme:m})},o=m=>{r({primaryColor:m})},l=()=>{r({compact:!s.compact})},i=m=>{r({language:m})},c=()=>{e(oe),tr(oe),fe(oe)},j=()=>{localStorage.removeItem(xe),e(oe),fe(oe)},b=()=>s.theme==="auto"?Or():s.theme,u=b()==="dark";return{theme:s,isDark:u,updateTheme:r,toggleTheme:n,setPrimaryColor:o,toggleCompactMode:l,setLanguage:i,resetTheme:c,clearThemeCache:j,getCurrentTheme:b}},_n=()=>{const[s,e]=a.useState([]),r=a.useCallback(b=>{const u=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,m={id:u,...b};return e(S=>[...S,m]),u},[]),n=a.useCallback(b=>{e(u=>u.filter(m=>m.id!==b))},[]),o=a.useCallback(()=>{e([])},[]),l=a.useCallback((b,u,m)=>r({type:"success",title:b,content:u,duration:m}),[r]),i=a.useCallback((b,u,m)=>r({type:"error",title:b,content:u,duration:m}),[r]),c=a.useCallback((b,u,m)=>r({type:"warning",title:b,content:u,duration:m}),[r]),j=a.useCallback((b,u,m)=>r({type:"info",title:b,content:u,duration:m}),[r]);return{toasts:s,addToast:r,removeToast:n,clearAllToasts:o,success:l,error:i,warning:c,info:j}},Pn="/api",_=Lr.create({baseURL:Pn,timeout:1e4,headers:{"Content-Type":"application/json"}});class Ln{constructor(){se(this,"token",null);this.token=localStorage.getItem("auth_token")}setToken(e){this.token=e,localStorage.setItem("auth_token",e)}getToken(){return this.token}clearToken(){this.token=null,localStorage.removeItem("auth_token")}isAuthenticated(){return!!this.token}getAuthHeaders(){return this.token?{Authorization:`Bearer ${this.token}`}:{}}}const ie=new Ln;_.interceptors.request.use(s=>{const e=ie.getToken();return e&&(s.headers.Authorization=`Bearer ${e}`),s},s=>Promise.reject(s));_.interceptors.response.use(s=>s,s=>{var e;return((e=s.response)==null?void 0:e.status)===401&&(ie.clearToken(),window.location.href="/login"),Promise.reject(s)});class En{async login(e){const r=await _.post("/auth/login",e);return r.data.success&&r.data.token&&ie.setToken(r.data.token),r.data}async logout(){try{await _.post("/auth/logout")}finally{ie.clearToken()}}async checkAuth(){if(!ie.isAuthenticated())return{isAuthenticated:!1};try{return{isAuthenticated:(await _.get("/auth/verify")).data.valid,token:ie.getToken()||void 0}}catch{return ie.clearToken(),{isAuthenticated:!1}}}async getHealth(){return(await _.get("/health")).data}async getApiInfo(){return(await _.get("/")).data}async getWebConsoleStatus(){return(await _.get("/web-console/status")).data}async getLogs(e,r){const n=new URLSearchParams;return e&&n.append("limit",e.toString()),r&&n.append("level",r),(await _.get(`/logs?${n}`)).data}async getConnections(){return(await _.get("/connections")).data}async kickConnection(e){return(await _.post(`/connections/${e}/kick`)).data}async getSecrets(){return(await _.get("/secrets")).data}async addSecret(e){return(await _.post("/secrets",e)).data}async updateSecret(e,r){return(await _.put(`/secrets/${e}`,r)).data}async deleteSecret(e){return(await _.delete(`/secrets/${e}`)).data}async blockSecret(e,r){return(await _.post(`/secrets/${e}/block`,{reason:r})).data}async unblockSecret(e){return(await _.post(`/secrets/${e}/unblock`)).data}async getBlockedSecrets(){return(await _.get("/secrets/blocked")).data}async updateBanRecord(e,r){return(await _.put(`/bans/${e}`,{reason:r})).data}async deleteBanRecord(e){return(await _.delete(`/bans/${e}`)).data}async exportSecrets(){return(await _.get("/secrets/export")).data}async importSecrets(e,r=!1){return(await _.post(`/secrets/import?overwriteExisting=${r}`,e)).data}async getSecretStats(){return(await _.get("/secrets/stats")).data}async batchOperateSecrets(e){return(await _.post("/secrets/batch",e)).data}async getConfig(){return(await _.get("/config")).data}async updateConfig(e){return(await _.put("/config",e)).data}async getSystemConfig(){return(await _.get("/config/system")).data}async updateSystemConfig(e){return(await _.put("/config/system",e)).data}async getSystemConfigSchema(){return(await _.get("/config/system/schema")).data}async resetSystemConfig(e){return(await _.post(`/config/system/reset/${e}`)).data}async initializeSystemConfig(){return(await _.post("/config/system/initialize")).data}async getWebSocketConfig(){return(await _.get("/config/websocket")).data}async updateWebSocketConfig(e){return(await _.put("/config/websocket",e)).data}async getDashboardStats(){return(await _.get("/dashboard/stats")).data}}const P=new En,Dn=({id:s,type:e,title:r,content:n,duration:o=3e3,onClose:l})=>{const[i,c]=a.useState(!0);a.useEffect(()=>{if(o>0){const m=setTimeout(()=>{j()},o);return()=>clearTimeout(m)}},[o]);const j=()=>{c(!1),setTimeout(()=>{l==null||l(s)},300)},b=()=>{switch(e){case"success":return t.jsx(Pe,{style:{color:"#00a870"}});case"error":return t.jsx(ye,{style:{color:"#d54941"}});case"warning":return t.jsx(xr,{style:{color:"#ed7b2f"}});case"info":return t.jsx(Be,{style:{color:"#0052d9"}});default:return t.jsx(Be,{style:{color:"#0052d9"}})}};if(!i)return null;const u=document.documentElement.getAttribute("data-theme")==="dark";return t.jsxs("div",{className:"toast",style:{position:"fixed",top:"20px",right:"20px",zIndex:9999,minWidth:"300px",maxWidth:"400px",background:u?"#1A1A1A":"white",border:`1px solid ${u?"#404040":"#e0e0e0"}`,borderRadius:"8px",boxShadow:u?"0 4px 16px rgba(0, 0, 0, 0.3)":"0 4px 16px rgba(0, 0, 0, 0.15)",padding:"16px",display:"flex",alignItems:"flex-start",gap:"12px",animation:"slideInRight 0.3s ease-out"},children:[t.jsx("div",{style:{flexShrink:0,marginTop:"2px"},children:b()}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{className:"toast-title",style:{fontSize:"14px",fontWeight:"700",color:u?"#FFFFFF":"#333",marginBottom:n?"4px":"0",textShadow:u?"0 0 5px rgba(255,255,255,0.1)":"none"},children:r}),n&&t.jsx("div",{className:"toast-content",style:{fontSize:"13px",color:u?"#E0E0E0":"#666",lineHeight:"1.4",fontWeight:"500"},children:n})]}),t.jsx("button",{className:"toast-close",onClick:j,style:{background:"none",border:"none",cursor:"pointer",padding:"4px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:u?"#CCCCCC":"#999",flexShrink:0,fontWeight:"600"},children:t.jsx(fr,{size:"16px"})})]})},{Title:In,Text:rr}=K,Ie=x.FormItem,Fn=({onLogin:s})=>{const[e,r]=a.useState(!1),[n]=x.useForm(),{isDark:o,toggleTheme:l}=Sr(),i=async c=>{var j,b,u;try{r(!0);const m={username:(j=c.username)==null?void 0:j.trim(),password:c.password};console.log("发送登录请求:",m);const S=await P.login(m);S.success?(v.success("登录成功"),s(S.token||"")):v.error(S.message||"登录失败")}catch(m){console.error("登录失败:",m);let S="登录失败";(u=(b=m.response)==null?void 0:b.data)!=null&&u.message?S=m.response.data.message:m.message&&(S=m.message),v.error(S)}finally{r(!1)}};return t.jsxs("div",{style:{minHeight:"100vh",background:o?"linear-gradient(135deg, #0F1419 0%, #1A1F3A 50%, #2D3748 100%)":"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",position:"relative"},children:[t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:o?"radial-gradient(circle at 20% 50%, rgba(91, 143, 255, 0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(118, 75, 162, 0.1) 0%, transparent 50%)":"radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.3) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.2) 0%, transparent 50%)",pointerEvents:"none"}}),t.jsxs(C,{style:{width:"100%",maxWidth:"420px",background:o?"#1A1A1A":"#FFFFFF",border:o?"1px solid #404040":"1px solid #e0e0e0",borderRadius:"12px",boxShadow:o?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 8px 32px rgba(0, 0, 0, 0.1)",padding:"40px",position:"relative"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",background:o?"linear-gradient(135deg, #5B8FFF 0%, #4A7FFF 100%)":"linear-gradient(135deg, #165DFF 0%, #0052D9 100%)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(Ke,{size:"20px",color:"white"})}),t.jsxs("div",{children:[t.jsx(In,{level:"h4",style:{margin:0,color:o?"#FFFFFF":"#1A1A1A",fontWeight:"600"},children:"NekoBridge"}),t.jsx(rr,{style:{color:o?"#A0A0A0":"#666666",fontSize:"12px"},children:"企业级管理平台"})]})]}),t.jsxs(E,{children:[t.jsx(g,{variant:"text",icon:t.jsx(Oe,{}),onClick:l,size:"small",style:{color:o?"#5B8FFF":"#165DFF"},title:o?"切换到浅色模式":"切换到深色模式"}),t.jsx(g,{variant:"text",icon:t.jsx(q,{}),onClick:()=>window.location.reload(),size:"small",style:{color:o?"#A0A0A0":"#666666"},title:"刷新页面"})]})]}),t.jsxs(x,{form:n,layout:"vertical",onSubmit:c=>{c.validateResult===!0&&i(c.fields)},colon:!1,children:[t.jsx(Ie,{name:"username",label:t.jsxs(E,{size:"small",style:{color:o?"#E0E0E0":"#333333",fontWeight:"500"},children:[t.jsx(Ue,{size:"16px"}),t.jsx("span",{children:"用户名"})]}),rules:[{required:!0,message:"请输入用户名"}],children:t.jsx(Z,{placeholder:"请输入用户名",size:"large",style:{height:"48px",background:o?"#2A2A2A":"#FFFFFF",borderColor:o?"#404040":"#e0e0e0",color:o?"#FFFFFF":"#333333",borderRadius:"8px"}})}),t.jsx(Ie,{name:"password",label:t.jsxs(E,{size:"small",style:{color:o?"#E0E0E0":"#333333",fontWeight:"500"},children:[t.jsx(Ce,{size:"16px"}),t.jsx("span",{children:"密码"})]}),rules:[{required:!0,message:"请输入密码"}],children:t.jsx(Z,{type:"password",placeholder:"请输入密码",size:"large",style:{height:"48px",background:o?"#2A2A2A":"#FFFFFF",borderColor:o?"#404040":"#e0e0e0",color:o?"#FFFFFF":"#333333",borderRadius:"8px"}})}),t.jsx(Ie,{style:{marginTop:"32px"},children:t.jsx(g,{theme:"primary",size:"large",block:!0,loading:e,type:"submit",style:{height:"48px",fontSize:"16px",fontWeight:"600",borderRadius:"8px"},children:e?"登录中...":"登录"})})]}),t.jsx("div",{style:{textAlign:"center",marginTop:"24px",paddingTop:"24px",borderTop:`1px solid ${o?"#404040":"#E5E5E5"}`},children:t.jsxs(rr,{style:{color:o?"#888888":"#999999",fontSize:"12px",lineHeight:"1.5"},children:["🔒 安全登录 • 数据加密 • 企业级保护",t.jsx("br",{}),t.jsx("span",{style:{fontSize:"11px",color:o?"#666666":"#CCCCCC"},children:"© 2024 NekoBridge. 保留所有权利。"})]})})]})]})},{Text:T}=K;function nr({logs:s,connections:e,blockedSecrets:r,isConnected:n,onRefresh:o,loading:l,onNavigate:i}){var H,G,Q,Y,D,U,ce,de,f,V,d,L;const[c,j]=a.useState(null),[b,u]=a.useState(!1);a.useEffect(()=>{m()},[]);const m=async()=>{u(!0);try{const w=await P.getDashboardStats();j(w)}catch(w){console.error("Failed to load stats:",w)}finally{u(!1)}},S=w=>{const M=Math.floor(w/86400),N=Math.floor(w%(24*60*60)/(60*60)),Ee=Math.floor(w%(60*60)/60);return M>0?`${M}天 ${N}小时 ${Ee}分钟`:N>0?`${N}小时 ${Ee}分钟`:`${Ee}分钟`},$=w=>w>80?"#ff4d4f":w>60?"#faad14":"#52c41a",y=w=>w>80?"#ff4d4f":w>60?"#faad14":"#52c41a",k=e.filter(w=>w.connected).length,p=e.length,h=p>0?k/p*100:0,O=s.filter(w=>w.level==="error").length,W=s.filter(w=>w.level==="warning").length,A=s.length;return t.jsxs("div",{children:[t.jsx(C,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(gr,{}),t.jsx("span",{children:"系统概览"})]}),t.jsxs(E,{children:[t.jsx(re,{color:n?"green":"red",children:n?"WebSocket 已连接":"WebSocket 断开"}),t.jsx(g,{size:"small",icon:t.jsx(q,{}),onClick:()=>{o(),m()},loading:l||b,children:"刷新"})]})]}),bordered:!1,style:{marginBottom:"24px"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"24px"},children:[t.jsx("div",{style:{textAlign:"center"},children:t.jsxs(C,{size:"small",style:{height:"120px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px"},children:[t.jsx(je,{style:{color:"#1890ff",marginRight:"8px"}}),t.jsx(T,{strong:!0,children:"活跃连接"})]}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:[k," / ",p]}),t.jsx(De,{percentage:h,size:"small",color:"#1890ff"})]})}),t.jsx("div",{style:{textAlign:"center"},children:t.jsxs(C,{size:"small",style:{height:"120px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px"},children:[t.jsx(Ce,{style:{color:"#ff4d4f",marginRight:"8px"}}),t.jsx(T,{strong:!0,children:"封禁密钥"})]}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:[r.length,((H=c==null?void 0:c.secrets)==null?void 0:H.total)&&` / ${c.secrets.total}`]}),t.jsxs(te,{theme:"danger",size:"small",children:[r.length," 个被封禁"]})]})}),t.jsx("div",{style:{textAlign:"center"},children:t.jsxs(C,{size:"small",style:{height:"120px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px"},children:[t.jsx(ye,{style:{color:"#faad14",marginRight:"8px"}}),t.jsx(T,{strong:!0,children:"错误日志"})]}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:[O," / ",A]}),t.jsxs(E,{size:"small",children:[t.jsxs(te,{theme:"warning",size:"small",children:[W," 警告"]}),t.jsxs(te,{theme:"danger",size:"small",children:[O," 错误"]})]})]})}),t.jsx("div",{style:{textAlign:"center"},children:t.jsxs(C,{size:"small",style:{height:"120px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px"},children:[t.jsx(wr,{style:{color:"#52c41a",marginRight:"8px"}}),t.jsx(T,{strong:!0,children:"运行时间"})]}),t.jsx(T,{style:{fontSize:"12px",color:"#666"},children:(G=c==null?void 0:c.system)!=null&&G.uptime?S(c.system.uptime):"--"})]})})]})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[t.jsx(C,{title:"系统性能",bordered:!1,children:t.jsxs(E,{direction:"vertical",style:{width:"100%"},size:"large",children:[t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx(T,{children:"内存使用率"}),t.jsxs(T,{strong:!0,style:{color:$(((Q=c==null?void 0:c.system)==null?void 0:Q.memory)||0)},children:[((Y=c==null?void 0:c.system)==null?void 0:Y.memory)||0,"%"]})]}),t.jsx(De,{percentage:((D=c==null?void 0:c.system)==null?void 0:D.memory)||0,color:$(((U=c==null?void 0:c.system)==null?void 0:U.memory)||0),size:"small"})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx(T,{children:"CPU 使用率"}),t.jsxs(T,{strong:!0,style:{color:y(((ce=c==null?void 0:c.system)==null?void 0:ce.cpu)||0)},children:[((de=c==null?void 0:c.system)==null?void 0:de.cpu)||0,"%"]})]}),t.jsx(De,{percentage:((f=c==null?void 0:c.system)==null?void 0:f.cpu)||0,color:y(((V=c==null?void 0:c.system)==null?void 0:V.cpu)||0),size:"small"})]}),t.jsx(he,{style:{margin:"8px 0"}}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(T,{style:{color:"#666"},children:"服务器端口"}),t.jsx(T,{code:!0,children:"3000"})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(T,{style:{color:"#666"},children:"WebSocket 状态"}),t.jsx(re,{color:n?"green":"red",children:n?"正常":"断开"})]}),((d=c==null?void 0:c.system)==null?void 0:d.cpu_cores)&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(T,{style:{color:"#666"},children:"CPU 核心数"}),t.jsx(T,{code:!0,children:c.system.cpu_cores})]}),((L=c==null?void 0:c.system)==null?void 0:L.cpu_model)&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(T,{style:{color:"#666"},children:"CPU 型号"}),t.jsx(T,{code:!0,children:c.system.cpu_model})]})]})}),t.jsx(C,{title:"最近日志",bordered:!1,actions:t.jsx(g,{size:"small",variant:"text",onClick:()=>i==null?void 0:i("logs"),children:"查看全部"}),children:t.jsxs(E,{direction:"vertical",style:{width:"100%"},children:[s.slice(0,5).map((w,M)=>t.jsx(C,{size:"small",style:{borderLeft:`3px solid ${w.level==="error"?"#ff4d4f":w.level==="warning"?"#faad14":"#52c41a"}`},children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[t.jsx(re,{color:w.level==="error"?"red":w.level==="warning"?"orange":"green",children:w.level.toUpperCase()}),t.jsx(T,{style:{fontSize:"12px",color:"#666",marginLeft:"8px"},children:new Date(w.timestamp).toLocaleString()})]}),t.jsx(T,{style:{fontSize:"13px"},children:w.message})]})})},M)),s.length===0&&t.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"暂无日志记录"})]})})]}),t.jsx(C,{title:"快速操作",bordered:!1,style:{marginTop:"24px"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[t.jsx(g,{variant:"outline",icon:t.jsx(je,{}),onClick:()=>i==null?void 0:i("connections"),children:"连接管理"}),t.jsx(g,{variant:"outline",icon:t.jsx(Ce,{}),onClick:()=>i==null?void 0:i("secrets"),children:"密钥管理"}),t.jsx(g,{variant:"outline",icon:t.jsx(Re,{}),onClick:()=>i==null?void 0:i("logs"),children:"日志查看"}),t.jsx(g,{variant:"outline",icon:t.jsx(ye,{}),onClick:()=>i==null?void 0:i("bans"),children:"封禁管理"})]})})]})}const $n=({onRefresh:s})=>{const[e,r]=a.useState([]),[n,o]=a.useState({total:0,enabled:0,disabled:0,recently_used:0,never_used:0}),[l,i]=a.useState(!0),[c,j]=a.useState(!1),[b,u]=a.useState(!1),[m,S]=a.useState(null),[$,y]=a.useState([]),[k,p]=a.useState(!1),[h]=x.useForm(),[O]=x.useForm(),[W]=x.useForm(),A=async()=>{try{i(!0);const[d,L]=await Promise.all([P.getSecrets(),P.getSecretStats()]);r(d.secrets||[]),o(L.stats||n)}catch{console.error("加载数据失败")}finally{i(!1)}};a.useEffect(()=>{A()},[]);const H=async d=>{var L,w;try{const M={...d,enabled:d.enabled!==void 0?d.enabled:!0,max_connections:d.max_connections||5,name:d.name||"",description:d.description||""};await P.addSecret(M),v.success("密钥添加成功"),j(!1),h.reset(),A(),s()}catch(M){console.error("添加密钥错误:",M),v.error(((w=(L=M.response)==null?void 0:L.data)==null?void 0:w.error)||"添加失败")}},G=async d=>{var L,w;if(m)try{await P.updateSecret(m.secret,d),v.success("密钥更新成功"),u(!1),S(null),O.reset(),A(),s()}catch(M){v.error(((w=(L=M.response)==null?void 0:L.data)==null?void 0:w.error)||"更新失败")}},Q=async d=>{try{await P.deleteSecret(d),v.success("密钥删除成功"),A(),s()}catch{v.error("删除失败")}},Y=async d=>{try{const L=e.find(w=>w.secret===d);L!=null&&L.enabled?(await P.blockSecret(d),v.success("密钥已封禁")):(await P.unblockSecret(d),v.success("密钥已解封")),A(),s()}catch{v.error("操作失败")}},D=d=>{navigator.clipboard.writeText(d),v.success("已复制到剪贴板")},U=async()=>{try{const d=e.map(N=>({secret:N.secret,enabled:N.enabled,description:N.description||"",max_connections:N.max_connections||1,created_at:N.created_at})),L=JSON.stringify(d,null,2),w=new Blob([L],{type:"application/json"}),M=document.createElement("a");M.href=URL.createObjectURL(w),M.download=`secrets-${new Date().toISOString().split("T")[0]}.json`,M.click(),v.success("导出成功")}catch{v.error("导出失败")}},ce=async d=>{try{const L=await d.text(),w=JSON.parse(L),M=await P.importSecrets(w);v.success(`导入成功: ${M.result.imported} 个，跳过: ${M.result.skipped} 个`),A(),s()}catch{v.error("导入失败")}},de=async d=>{if($.length===0){v.warning("请选择要操作的密钥");return}try{const L=$.map(M=>{switch(d.operation){case"enable":return P.updateSecret(M,{enabled:!0});case"disable":return P.updateSecret(M,{enabled:!1});case"delete":return P.deleteSecret(M);case"block":return P.blockSecret(M);case"unblock":return P.unblockSecret(M);default:return Promise.resolve()}});await Promise.all(L);const w={enable:"启用",disable:"禁用",block:"封禁",unblock:"解封",delete:"删除"};v.success(`批量${w[d.operation]||d.operation}操作完成`),p(!1),y([]),W.reset(),A(),s()}catch{v.error("批量操作失败")}},f=d=>{S(d),O.setFieldsValue(d),u(!0)},V=[{title:"批量选择",colKey:"select",width:60,ellipsis:!0,cell:d=>t.jsx(ar,{checked:$.includes(d.row.secret),onChange:L=>{y(L?[...$,d.row.secret]:$.filter(w=>w!==d.row.secret))}})},{title:"Webhook密钥",colKey:"secret",width:200,ellipsis:!0,cell:d=>t.jsx("code",{style:{fontSize:"12px"},children:d.row.secret})},{title:"密钥别名",colKey:"name",width:150,ellipsis:!0,cell:d=>d.row.name||"-"},{title:"密钥用途描述",colKey:"description",ellipsis:!0,cell:d=>d.row.description||"-"},{title:"启用状态",colKey:"enabled",width:100,ellipsis:!0,cell:d=>t.jsx(te,{theme:d.row.enabled?"success":"danger",variant:"light",children:d.row.enabled?"启用":"禁用"})},{title:"允许的最大连接数",colKey:"max_connections",width:140,ellipsis:!0,cell:d=>d.row.max_connections||1},{title:"密钥创建时间",colKey:"created_at",width:180,ellipsis:!0,cell:d=>new Date(d.row.created_at).toLocaleString()},{title:"管理操作",colKey:"actions",width:200,fixed:"right",cell:d=>t.jsxs(E,{children:[t.jsx(g,{variant:"text",icon:t.jsx(Ne,{}),size:"small",onClick:()=>D(d.row.secret),children:"复制"}),t.jsx(g,{variant:"text",icon:t.jsx(Me,{}),size:"small",onClick:()=>f(d.row),children:"编辑"}),t.jsx(g,{variant:"text",icon:d.row.enabled?t.jsx(_e,{}):t.jsx(Me,{}),size:"small",theme:d.row.enabled?"danger":"success",onClick:()=>Y(d.row.secret),children:d.row.enabled?"封禁":"解封"}),t.jsx(ve,{content:"确定要删除这个密钥吗？",onConfirm:()=>Q(d.row.secret),children:t.jsx(g,{variant:"text",icon:t.jsx(Ze,{}),size:"small",theme:"danger",children:"删除"})})]})}];return t.jsxs("div",{children:[t.jsxs(ir,{gutter:[16,16],style:{marginBottom:"24px"},children:[t.jsx(X,{span:6,children:t.jsx(C,{children:t.jsx(ee,{title:"总密钥数",value:n.total})})}),t.jsx(X,{span:6,children:t.jsx(C,{children:t.jsx(ee,{title:"已启用",value:n.enabled})})}),t.jsx(X,{span:6,children:t.jsx(C,{children:t.jsx(ee,{title:"已禁用",value:n.disabled})})}),t.jsx(X,{span:6,children:t.jsx(C,{children:t.jsx(ee,{title:"最近使用",value:n.recently_used})})})]}),t.jsx(C,{style:{marginBottom:"16px"},children:t.jsxs(E,{children:[t.jsx(g,{theme:"primary",icon:t.jsx(He,{}),onClick:()=>{j(!0),h.setFieldsValue({enabled:!0,max_connections:5})},children:"添加密钥"}),$.length>0&&t.jsxs(g,{theme:"warning",onClick:()=>p(!0),children:["批量操作 (",$.length,")"]}),t.jsx(Er,{accept:".json",onChange:d=>ce(d[0]),showUploadProgress:!1,children:t.jsx(g,{icon:t.jsx(vr,{}),children:"导入"})}),t.jsx(g,{icon:t.jsx(We,{}),onClick:U,children:"导出"}),t.jsx(g,{icon:t.jsx(q,{}),onClick:A,loading:l,children:"刷新"})]})}),t.jsx(C,{children:t.jsx(Se,{data:e,columns:V,loading:l,rowKey:"secret",bordered:!0,showHeader:!0,pagination:{pageSize:10},empty:"暂无密钥"})}),t.jsx(ue,{visible:c,onClose:()=>j(!1),header:"添加密钥",width:"500px",children:t.jsxs(x,{form:h,onSubmit:d=>H(d.fields),layout:"vertical",children:[t.jsx(x.FormItem,{name:"secret",label:"密钥",rules:[{required:!0,message:"请输入密钥"}],children:t.jsx(Z,{placeholder:"请输入密钥"})}),t.jsx(x.FormItem,{name:"name",label:"名称",children:t.jsx(Z,{placeholder:"请输入密钥名称"})}),t.jsx(x.FormItem,{name:"description",label:"描述",children:t.jsx(Z,{placeholder:"请输入描述"})}),t.jsx(x.FormItem,{name:"enabled",label:"启用",children:t.jsx(R,{})}),t.jsx(x.FormItem,{name:"max_connections",label:"最大连接数",children:t.jsx(ne,{placeholder:"请输入最大连接数",min:1,max:100})}),t.jsx(x.FormItem,{children:t.jsxs(E,{children:[t.jsx(g,{type:"submit",theme:"primary",children:"添加"}),t.jsx(g,{onClick:()=>j(!1),children:"取消"})]})})]})}),t.jsxs(ue,{visible:b,onClose:()=>u(!1),header:"编辑密钥",width:"500px",children:[m&&t.jsxs("div",{style:{marginBottom:16,padding:12,backgroundColor:"#f0f9ff",borderRadius:4,border:"1px solid #bae6fd"},children:[t.jsx(K.Text,{strong:!0,children:"当前编辑密钥："}),t.jsx(K.Text,{code:!0,style:{marginLeft:8,fontFamily:"monospace"},children:m.secret})]}),t.jsxs(x,{form:O,onSubmit:d=>G(d.fields),layout:"vertical",children:[t.jsx(x.FormItem,{name:"name",label:"名称",children:t.jsx(Z,{placeholder:"请输入密钥名称"})}),t.jsx(x.FormItem,{name:"description",label:"描述",children:t.jsx(Z,{placeholder:"请输入描述"})}),t.jsx(x.FormItem,{name:"enabled",label:"启用",children:t.jsx(R,{})}),t.jsx(x.FormItem,{name:"max_connections",label:"最大连接数",children:t.jsx(ne,{placeholder:"请输入最大连接数",min:1,max:100})}),t.jsx(x.FormItem,{children:t.jsxs(E,{children:[t.jsx(g,{type:"submit",theme:"primary",children:"保存"}),t.jsx(g,{onClick:()=>u(!1),children:"取消"})]})})]})]}),t.jsx(ue,{visible:k,onClose:()=>p(!1),header:"批量操作",width:"400px",children:t.jsxs(x,{form:W,onSubmit:d=>de(d.fields),layout:"vertical",children:[t.jsx(x.FormItem,{name:"operation",label:"操作类型",rules:[{required:!0,message:"请选择操作类型"}],children:t.jsx(B,{placeholder:"请选择操作类型",options:[{label:"启用",value:"enable"},{label:"禁用",value:"disable"},{label:"封禁",value:"block"},{label:"解封",value:"unblock"},{label:"删除",value:"delete"}]})}),t.jsx(x.FormItem,{children:t.jsxs(E,{children:[t.jsx(g,{type:"submit",theme:"primary",children:"确认操作"}),t.jsx(g,{onClick:()=>p(!1),children:"取消"})]})})]})})]})},An=({connections:s,onRefresh:e,loading:r})=>{const n=async i=>{var c,j;try{await P.kickConnection(i),console.log("连接已断开"),e()}catch(b){console.error(((j=(c=b.response)==null?void 0:c.data)==null?void 0:j.message)||"操作失败")}},o=async i=>{try{i.enabled?(await P.blockSecret(i.secret),console.log("已封禁")):(await P.unblockSecret(i.secret),console.log("已解封")),e()}catch{console.error("操作失败")}},l=[{title:"密钥",key:"secret",width:200,ellipsis:!0,cell:i=>t.jsx("code",{style:{fontSize:"12px"},children:i.row.secret})},{title:"描述",key:"description",ellipsis:!0,cell:i=>i.row.description||"-"},{title:"连接状态",key:"connected",width:120,cell:i=>t.jsx(re,{dot:!0,children:i.row.connected?"已连接":"未连接"})},{title:"启用状态",key:"enabled",width:120,cell:i=>t.jsx(te,{theme:i.row.enabled?"success":"danger",variant:"light",children:i.row.enabled?"启用":"禁用"})},{title:"连接时间",key:"connectedAt",width:180,cell:i=>new Date(i.row.connectedAt).toLocaleString()},{title:"最后使用",key:"lastUsed",width:180,cell:i=>i.row.lastUsed?new Date(i.row.lastUsed).toLocaleString():"从未使用"},{title:"操作",key:"actions",width:150,cell:i=>t.jsxs(E,{children:[i.row.connected&&t.jsx(ve,{content:"确定要踢出这个连接吗？",onConfirm:()=>n(i.row.secret),children:t.jsx(g,{variant:"text",icon:t.jsx(Le,{}),size:"small",theme:"warning",children:"踢出"})}),t.jsx(g,{variant:"text",icon:i.row.enabled?t.jsx(_e,{}):t.jsx(Pe,{}),size:"small",theme:i.row.enabled?"danger":"success",onClick:()=>o(i.row),children:i.row.enabled?"封禁":"解封"})]})}];return t.jsx(C,{header:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:"连接管理"}),t.jsx(g,{icon:t.jsx(q,{}),onClick:e,loading:r,children:"刷新"})]}),children:t.jsx(Se,{data:s,columns:l,loading:r,rowKey:"secret",pagination:{pageSize:10},empty:"暂无连接"})})},Mn=({logs:s,onRefresh:e,loading:r})=>{const[n,o]=a.useState(""),[l,i]=a.useState(""),[c,j]=a.useState(null),[b,u]=a.useState(s);a.useEffect(()=>{let y=s;if(n&&(y=y.filter(k=>k.level===n)),l&&(y=y.filter(k=>{var p;return k.message.toLowerCase().includes(l.toLowerCase())||((p=k.details)==null?void 0:p.toString().toLowerCase().includes(l.toLowerCase()))})),c){const[k,p]=c;y=y.filter(h=>{const O=new Date(h.timestamp);return O>=k&&O<=p})}u(y)},[s,n,l,c]);const m=async()=>{try{const k=["时间,级别,消息,详情",...b.map(O=>({时间:new Date(O.timestamp).toLocaleString(),级别:O.level,消息:O.message,详情:O.details?JSON.stringify(O.details):""})).map(O=>`"${O.时间}","${O.级别}","${O.消息}","${O.详情}"`)].join(`
`),p=new Blob([k],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.href=URL.createObjectURL(p),h.download=`logs-${new Date().toISOString().split("T")[0]}.csv`,h.click(),console.log("导出成功")}catch{console.error("导出失败")}},S=y=>{switch(y){case"error":return"danger";case"warning":return"warning";case"info":return"primary";case"debug":return"default";default:return"default"}},$=[{title:"时间",key:"timestamp",width:180,cell:y=>new Date(y.row.timestamp).toLocaleString()},{title:"级别",key:"level",width:100,cell:y=>t.jsx(te,{theme:S(y.row.level),variant:"light",children:y.row.level.toUpperCase()})},{title:"消息",key:"message",ellipsis:!0,cell:y=>y.row.message},{title:"详情",key:"details",width:200,cell:y=>y.row.details?t.jsx("div",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:JSON.stringify(y.row.details)}):"-"}];return t.jsxs(C,{header:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:"日志查看器"}),t.jsxs(E,{children:[t.jsx(g,{icon:t.jsx(q,{}),onClick:e,loading:r,children:"刷新"}),t.jsx(g,{icon:t.jsx(We,{}),onClick:m,children:"导出"})]})]}),children:[t.jsx("div",{style:{marginBottom:"16px"},children:t.jsxs(E,{children:[t.jsxs(B,{placeholder:"选择日志级别",value:n,onChange:y=>o(y),style:{width:"150px"},children:[t.jsx(B.Option,{value:"",children:"全部级别"}),t.jsx(B.Option,{value:"debug",children:"Debug"}),t.jsx(B.Option,{value:"info",children:"Info"}),t.jsx(B.Option,{value:"warning",children:"Warning"}),t.jsx(B.Option,{value:"error",children:"Error"})]}),t.jsx(Z,{placeholder:"搜索日志内容",value:l,onChange:y=>i(y),style:{width:"200px"}}),t.jsx(lr,{placeholder:"选择日期范围",value:c||void 0,onChange:y=>j(y),style:{width:"200px"}}),(n||l||c)&&t.jsx(g,{variant:"text",onClick:()=>{o(""),i(""),j(null)},children:"清除过滤"})]})}),t.jsx(Se,{data:b,columns:$,loading:r,rowKey:"id",pagination:{pageSize:20},empty:"暂无日志记录"})]})},ae=class ae{constructor(){se(this,"configCache",new Map);se(this,"configSchema",null)}static getInstance(){return ae.instance||(ae.instance=new ae),ae.instance}async getConfigSchema(){if(this.configSchema)return this.configSchema;try{const e=await P.getSystemConfigSchema();if(e.success)return this.configSchema=e.data,this.configSchema;throw new Error("获取配置架构失败")}catch(e){throw console.error("获取配置架构失败:",e),e}}async getAllConfigs(){try{const e=await P.getSystemConfig();if(e.success)return e.data;throw new Error("获取配置失败")}catch(e){throw console.error("获取配置失败:",e),e}}async getConfigsByCategory(e){const r=await this.getAllConfigs(),n={};return Object.keys(r).forEach(o=>{if(o.startsWith(`${e}.`)){const l=o.replace(`${e}.`,"");n[l]=r[o]}}),n}async getServerConfig(){var r;const e=await this.getConfigsByCategory("server");return{port:e.port||"3000",host:e.host||"0.0.0.0",mode:e.mode||"debug",cors:{origins:Array.isArray((r=e.cors)==null?void 0:r.origins)?e.cors.origins:["*"]}}}async getSecurityConfig(){const e=await this.getConfigsByCategory("security");return{enable_signature_validation:e.enable_signature_validation??!0,default_allow_new_connections:e.default_allow_new_connections??!0,max_connections_per_secret:e.max_connections_per_secret??5,require_manual_key_management:e.require_manual_key_management??!1}}async getAuthConfig(){const e=await this.getConfigsByCategory("auth");return{username:e.username||"admin",password:"",session_timeout:e.session_timeout??86400,jwt_secret:e.jwt_secret||""}}async getUIConfig(){const e=await this.getConfigsByCategory("ui");return{enableWebConsole:e.enable_web_console??!0,theme:e.theme||"auto",primaryColor:e.primary_color||"#165DFF",compact:e.compact_mode??!1,language:e.language||"zh-CN",showBreadcrumb:e.show_breadcrumb??!0,showFooter:e.show_footer??!0,enableAnimation:e.enable_animation??!0}}async getLoggingConfig(){const e=await this.getConfigsByCategory("logging");return{level:e.level||"info",max_log_entries:e.max_log_entries??1e3,enable_file_logging:e.enable_file_logging??!1,log_file_path:e.log_file_path||"./logs/webhook.log"}}async getWebSocketConfig(){const e=await this.getConfigsByCategory("websocket");return{enable_heartbeat:e.enable_heartbeat??!1,heartbeat_interval:e.heartbeat_interval??3e4,heartbeat_timeout:e.heartbeat_timeout??5e3,client_heartbeat_interval:e.client_heartbeat_interval??25e3,max_message_size:e.max_message_size??1048576,read_timeout:e.read_timeout??6e4,write_timeout:e.write_timeout??6e4}}async updateConfigs(e){try{const r=await P.updateSystemConfig(e);if(!r.success)throw new Error(r.message||"更新配置失败");this.configCache.clear()}catch(r){throw console.error("更新配置失败:",r),r}}async updateConfigsByCategory(e,r){const n={};Object.keys(r).forEach(o=>{n[`${e}.${o}`]=r[o]}),await this.updateConfigs(n)}async updateServerConfig(e){var n;const r={};e.port!==void 0&&(r["server.port"]=e.port),e.host!==void 0&&(r["server.host"]=e.host),e.mode!==void 0&&(r["server.mode"]=e.mode),((n=e.cors)==null?void 0:n.origins)!==void 0&&(r["server.cors.origins"]=e.cors.origins),await this.updateConfigs(r)}async updateSecurityConfig(e){const r={};e.enable_signature_validation!==void 0&&(r["security.enable_signature_validation"]=e.enable_signature_validation),e.default_allow_new_connections!==void 0&&(r["security.default_allow_new_connections"]=e.default_allow_new_connections),e.max_connections_per_secret!==void 0&&(r["security.max_connections_per_secret"]=e.max_connections_per_secret),e.require_manual_key_management!==void 0&&(r["security.require_manual_key_management"]=e.require_manual_key_management),await this.updateConfigs(r)}async updateAuthConfig(e){const r={};e.username!==void 0&&(r["auth.username"]=e.username),e.password!==void 0&&e.password.trim()!==""&&(r["auth.password"]=e.password),e.session_timeout!==void 0&&(r["auth.session_timeout"]=e.session_timeout),await this.updateConfigs(r)}async updateUIConfig(e){const r={};e.enableWebConsole!==void 0&&(r["ui.enable_web_console"]=e.enableWebConsole),e.theme!==void 0&&(r["ui.theme"]=e.theme),e.primaryColor!==void 0&&(r["ui.primary_color"]=e.primaryColor),e.compact!==void 0&&(r["ui.compact_mode"]=e.compact),e.language!==void 0&&(r["ui.language"]=e.language),e.showBreadcrumb!==void 0&&(r["ui.show_breadcrumb"]=e.showBreadcrumb),e.showFooter!==void 0&&(r["ui.show_footer"]=e.showFooter),e.enableAnimation!==void 0&&(r["ui.enable_animation"]=e.enableAnimation),await this.updateConfigs(r)}async updateLoggingConfig(e){const r={};e.level!==void 0&&(r["logging.level"]=e.level),e.max_log_entries!==void 0&&(r["logging.max_log_entries"]=e.max_log_entries),e.enable_file_logging!==void 0&&(r["logging.enable_file_logging"]=e.enable_file_logging),e.log_file_path!==void 0&&(r["logging.log_file_path"]=e.log_file_path),await this.updateConfigs(r)}async updateWebSocketConfig(e){const r={};e.enable_heartbeat!==void 0&&(r["websocket.enable_heartbeat"]=e.enable_heartbeat),e.heartbeat_interval!==void 0&&(r["websocket.heartbeat_interval"]=e.heartbeat_interval),e.heartbeat_timeout!==void 0&&(r["websocket.heartbeat_timeout"]=e.heartbeat_timeout),e.client_heartbeat_interval!==void 0&&(r["websocket.client_heartbeat_interval"]=e.client_heartbeat_interval),e.max_message_size!==void 0&&(r["websocket.max_message_size"]=e.max_message_size),e.read_timeout!==void 0&&(r["websocket.read_timeout"]=e.read_timeout),e.write_timeout!==void 0&&(r["websocket.write_timeout"]=e.write_timeout),await this.updateConfigs(r)}async resetConfigToDefault(e){try{const r=await P.resetSystemConfig(e);if(!r.success)throw new Error(r.message||"重置配置失败");this.configCache.clear()}catch(r){throw console.error("重置配置失败:",r),r}}async initializeSystemConfig(){try{const e=await P.initializeSystemConfig();if(!e.success)throw new Error(e.message||"初始化配置失败");this.configCache.clear()}catch(e){throw console.error("初始化配置失败:",e),e}}validateConfigValue(e,r,n){if(!n||!n[e])return null;const o=n[e];if(o.required&&(r==null||r===""))return`${o.description||e} 是必填项`;if(r!=null&&r!==""){switch(o.type){case"int":if(!Number.isInteger(Number(r)))return`${o.description||e} 必须是整数`;break;case"float":if(isNaN(Number(r)))return`${o.description||e} 必须是数字`;break;case"bool":if(typeof r!="boolean")return`${o.description||e} 必须是布尔值`;break}if(o.minValue!==void 0){const l=Number(r),i=Number(o.minValue);if(l<i)return`${o.description||e} 不能小于 ${o.minValue}`}if(o.maxValue!==void 0){const l=Number(r),i=Number(o.maxValue);if(l>i)return`${o.description||e} 不能大于 ${o.maxValue}`}if(o.options&&Array.isArray(o.options)&&!o.options.includes(r))return`${o.description||e} 必须是以下选项之一: ${o.options.join(", ")}`}return null}};se(ae,"instance");let ze=ae;const z=ze.getInstance(),qe=()=>{const[s,e]=a.useState(null),[r,n]=a.useState(!1),[o,l]=a.useState(null),i=a.useCallback(async()=>{try{n(!0),l(null);const[p,h,O,W,A,H]=await Promise.all([z.getServerConfig(),z.getSecurityConfig(),z.getAuthConfig(),z.getLoggingConfig(),z.getUIConfig(),z.getWebSocketConfig()]);e({server:p,security:h,auth:O,logging:W,ui:A,websocket:H,secrets:{}})}catch(p){const h=p instanceof Error?p.message:"加载配置失败";l(h),console.error("加载配置失败:",p)}finally{n(!1)}},[]),c=a.useCallback(async p=>{try{n(!0),l(null);const h=[];p.server&&h.push(z.updateServerConfig(p.server)),p.security&&h.push(z.updateSecurityConfig(p.security)),p.auth&&h.push(z.updateAuthConfig(p.auth)),p.logging&&h.push(z.updateLoggingConfig(p.logging)),p.ui&&h.push(z.updateUIConfig(p.ui)),p.websocket&&h.push(z.updateWebSocketConfig(p.websocket)),await Promise.all(h),await i()}catch(h){const O=h instanceof Error?h.message:"更新配置失败";throw l(O),console.error("更新配置失败:",h),h}finally{n(!1)}},[i]),j=a.useCallback(async p=>{try{n(!0),l(null),await z.updateServerConfig(p),await i()}catch(h){const O=h instanceof Error?h.message:"更新服务器配置失败";throw l(O),console.error("更新服务器配置失败:",h),h}finally{n(!1)}},[i]),b=a.useCallback(async p=>{try{n(!0),l(null),await z.updateSecurityConfig(p),await i()}catch(h){const O=h instanceof Error?h.message:"更新安全配置失败";throw l(O),console.error("更新安全配置失败:",h),h}finally{n(!1)}},[i]),u=a.useCallback(async p=>{try{n(!0),l(null),await z.updateAuthConfig(p),await i()}catch(h){const O=h instanceof Error?h.message:"更新认证配置失败";throw l(O),console.error("更新认证配置失败:",h),h}finally{n(!1)}},[i]),m=a.useCallback(async p=>{try{n(!0),l(null),await z.updateUIConfig(p),await i()}catch(h){const O=h instanceof Error?h.message:"更新UI配置失败";throw l(O),console.error("更新UI配置失败:",h),h}finally{n(!1)}},[i]),S=a.useCallback(async p=>{try{n(!0),l(null),await z.updateLoggingConfig(p),await i()}catch(h){const O=h instanceof Error?h.message:"更新日志配置失败";throw l(O),console.error("更新日志配置失败:",h),h}finally{n(!1)}},[i]),$=a.useCallback(async p=>{try{n(!0),l(null),await z.updateWebSocketConfig(p),await i()}catch(h){const O=h instanceof Error?h.message:"更新WebSocket配置失败";throw l(O),console.error("更新WebSocket配置失败:",h),h}finally{n(!1)}},[i]),y=a.useCallback(async p=>{try{n(!0),l(null),await z.resetConfigToDefault(p),await i()}catch(h){const O=h instanceof Error?h.message:"重置配置失败";throw l(O),console.error("重置配置失败:",h),h}finally{n(!1)}},[i]),k=a.useCallback(async()=>{try{n(!0),l(null),await z.initializeSystemConfig(),await i()}catch(p){const h=p instanceof Error?p.message:"初始化配置失败";throw l(h),console.error("初始化配置失败:",p),p}finally{n(!1)}},[i]);return a.useEffect(()=>{i()},[i]),{config:s,loading:r,error:o,loadConfig:i,updateConfig:c,updateServerConfig:j,updateSecurityConfig:b,updateAuthConfig:u,updateUIConfig:m,updateLoggingConfig:S,updateWebSocketConfig:$,resetConfig:y,initializeConfig:k}},le=class le{constructor(){se(this,"schema",null)}static getInstance(){return le.instance||(le.instance=new le),le.instance}async getSchema(){if(this.schema)return this.schema;try{const e=await z.getConfigSchema();return this.schema=e,this.schema}catch(e){return console.error("获取配置架构失败:",e),null}}async validateValue(e,r){const n=await this.getSchema();return n?z.validateConfigValue(e,r,n):null}async validateConfig(e){const r={},n=await this.getSchema();if(!n)return r;for(const[o,l]of Object.entries(e)){const i=z.validateConfigValue(o,l,n);i&&(r[o]=i)}return r}validateServerConfig(e){const r={};if(e.port){const n=Number(e.port);(isNaN(n)||n<1||n>65535)&&(r.port="端口号必须在1-65535之间")}return e.host&&typeof e.host!="string"&&(r.host="主机地址必须是字符串"),e.mode&&!["debug","release","test"].includes(e.mode)&&(r.mode="运行模式必须是debug、release或test之一"),r}validateSecurityConfig(e){const r={};if(e.max_connections_per_secret!==void 0){const n=Number(e.max_connections_per_secret);(isNaN(n)||n<1||n>100)&&(r.max_connections_per_secret="每个密钥的最大连接数必须在1-100之间")}return r}validateAuthConfig(e){const r={};if(e.username&&typeof e.username!="string"&&(r.username="用户名必须是字符串"),e.password!==void 0&&e.password!==""&&typeof e.password!="string"&&(r.password="密码必须是字符串"),e.session_timeout!==void 0){const n=Number(e.session_timeout);(isNaN(n)||n<300||n>604800)&&(r.session_timeout="会话超时时间必须在300-604800秒之间")}return r}validateLoggingConfig(e){const r={};if(e.level&&!["debug","info","warn","error"].includes(e.level)&&(r.level="日志级别必须是debug、info、warn或error之一"),e.max_log_entries!==void 0){const n=Number(e.max_log_entries);(isNaN(n)||n<100||n>1e4)&&(r.max_log_entries="最大日志条数必须在100-10000之间")}return e.log_file_path&&typeof e.log_file_path!="string"&&(r.log_file_path="日志文件路径必须是字符串"),r}validateWebSocketConfig(e){const r={};if(e.heartbeat_interval!==void 0){const n=Number(e.heartbeat_interval);(isNaN(n)||n<1e3||n>3e5)&&(r.heartbeat_interval="心跳间隔必须在1000-300000毫秒之间")}if(e.heartbeat_timeout!==void 0){const n=Number(e.heartbeat_timeout);(isNaN(n)||n<1e3||n>6e4)&&(r.heartbeat_timeout="心跳超时必须在1000-60000毫秒之间")}if(e.client_heartbeat_interval!==void 0){const n=Number(e.client_heartbeat_interval);(isNaN(n)||n<1e3||n>3e5)&&(r.client_heartbeat_interval="客户端心跳间隔必须在1000-300000毫秒之间")}if(e.max_message_size!==void 0){const n=Number(e.max_message_size);(isNaN(n)||n<1024||n>10485760)&&(r.max_message_size="最大消息大小必须在1024-10485760字节之间")}if(e.read_timeout!==void 0){const n=Number(e.read_timeout);(isNaN(n)||n<1e3||n>3e5)&&(r.read_timeout="读取超时必须在1000-300000毫秒之间")}if(e.write_timeout!==void 0){const n=Number(e.write_timeout);(isNaN(n)||n<1e3||n>3e5)&&(r.write_timeout="写入超时必须在1000-300000毫秒之间")}return r}validateUIConfig(e){const r={};return e.enableWebConsole!==void 0&&typeof e.enableWebConsole!="boolean"&&(r.enableWebConsole="启用Web控制台必须是布尔值"),e.theme&&!["light","dark","auto"].includes(e.theme)&&(r.theme="主题模式必须是light、dark或auto之一"),e.language&&!["zh-CN","en-US"].includes(e.language)&&(r.language="语言必须是zh-CN或en-US之一"),e.primaryColor&&typeof e.primaryColor!="string"&&(r.primaryColor="主色调必须是字符串"),r}async validateAllConfig(e){const r={};if(e.server){const n=this.validateServerConfig(e.server);Object.keys(n).forEach(o=>{r[`server.${o}`]=n[o]})}if(e.security){const n=this.validateSecurityConfig(e.security);Object.keys(n).forEach(o=>{r[`security.${o}`]=n[o]})}if(e.auth){const n=this.validateAuthConfig(e.auth);Object.keys(n).forEach(o=>{r[`auth.${o}`]=n[o]})}if(e.logging){const n=this.validateLoggingConfig(e.logging);Object.keys(n).forEach(o=>{r[`logging.${o}`]=n[o]})}if(e.websocket){const n=this.validateWebSocketConfig(e.websocket);Object.keys(n).forEach(o=>{r[`websocket.${o}`]=n[o]})}if(e.ui){const n=this.validateUIConfig(e.ui);Object.keys(n).forEach(o=>{r[`ui.${o}`]=n[o]})}return r}};se(le,"instance");let Ve=le;const Je=Ve.getInstance(),Bn=({onRefresh:s})=>{const{config:e,loading:r,error:n,loadConfig:o,updateServerConfig:l,updateSecurityConfig:i,updateAuthConfig:c,updateLoggingConfig:j}=qe(),[b,u]=a.useState(!1),[m]=x.useForm();Te.useEffect(()=>{e&&m.setFieldsValue(e)},[e,m]);const S=async()=>{try{v.info("正在恢复默认设置..."),await o(),v.success("已恢复默认设置")}catch(y){console.error("恢复默认设置失败:",y),v.error("恢复默认设置失败")}},$=async y=>{try{u(!0),console.log("保存配置数据:",y);const k=await Je.validateAllConfig(y);if(Object.keys(k).length>0){const h=Object.values(k)[0];v.error(`配置验证失败: ${h}`);return}const p=[];y.server&&p.push(l(y.server)),y.security&&p.push(i(y.security)),y.auth&&p.push(c(y.auth)),y.logging&&p.push(j(y.logging)),await Promise.all(p),v.success("系统配置保存成功"),s()}catch(k){console.error("保存配置错误:",k);const p=k.message||"保存系统配置失败";v.error(p)}finally{u(!1)}};return r?t.jsx(C,{loading:!0,style:{height:"400px"}}):n?t.jsxs(C,{children:[t.jsx(pe,{theme:"error",message:`加载配置失败: ${n}`}),t.jsx(g,{onClick:o,style:{marginTop:16},children:"重试"})]}):t.jsxs("div",{children:[t.jsx(pe,{theme:"info",message:"修改配置后需要重启服务才能生效",style:{marginBottom:"16px"}}),t.jsx(C,{header:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:"系统配置"}),t.jsxs(E,{children:[t.jsx(g,{icon:t.jsx(q,{}),onClick:S,loading:r,children:"恢复默认"}),t.jsx(g,{theme:"primary",icon:t.jsx(jr,{}),onClick:()=>m.submit(),loading:b,children:"保存"})]})]}),children:t.jsxs(x,{form:m,onSubmit:y=>{y.validateResult===!0&&$(y.fields)},labelWidth:120,layout:"vertical",children:[t.jsxs(C,{title:"服务器配置",size:"small",style:{marginBottom:"16px"},children:[t.jsx(x.FormItem,{name:["server","port"],label:"端口",rules:[{required:!0,message:"请输入端口"}],children:t.jsx(Z,{placeholder:"请输入端口"})}),t.jsx(x.FormItem,{name:["server","host"],label:"绑定地址",rules:[{required:!0,message:"请输入绑定地址"}],children:t.jsx(Z,{placeholder:"请输入绑定地址"})}),t.jsx(x.FormItem,{name:["server","mode"],label:"运行模式",children:t.jsxs(B,{children:[t.jsx(B.Option,{value:"debug",children:"Debug"}),t.jsx(B.Option,{value:"release",children:"Release"})]})})]}),t.jsxs(C,{title:"安全配置",size:"small",style:{marginBottom:"16px"},children:[t.jsx(x.FormItem,{name:["security","enable_signature_validation"],label:"启用签名验证",children:t.jsx(R,{})}),t.jsx(x.FormItem,{name:["security","default_allow_new_connections"],label:"默认允许新连接",children:t.jsx(R,{})}),t.jsx(x.FormItem,{name:["security","max_connections_per_secret"],label:"每个密钥最大连接数",children:t.jsx(ne,{min:1,max:100})}),t.jsx(x.FormItem,{name:["security","require_manual_key_management"],label:"需要手动管理密钥",children:t.jsx(R,{})})]}),t.jsxs(C,{title:"认证配置",size:"small",style:{marginBottom:"16px"},children:[t.jsx(x.FormItem,{name:["auth","username"],label:"管理员用户名",rules:[{required:!0,message:"请输入用户名"}],children:t.jsx(Z,{placeholder:"请输入用户名"})}),t.jsx(x.FormItem,{name:["auth","password"],label:"管理员密码",help:"留空表示不修改当前密码",children:t.jsx(Z,{type:"password",placeholder:"留空表示不修改密码"})}),t.jsx(x.FormItem,{name:["auth","session_timeout"],label:"会话超时时间(秒)",children:t.jsx(ne,{min:300,max:86400})})]}),t.jsxs(C,{title:"日志配置",size:"small",style:{marginBottom:"16px"},children:[t.jsx(x.FormItem,{name:["logging","level"],label:"日志级别",children:t.jsxs(B,{children:[t.jsx(B.Option,{value:"debug",children:"Debug"}),t.jsx(B.Option,{value:"info",children:"Info"}),t.jsx(B.Option,{value:"warning",children:"Warning"}),t.jsx(B.Option,{value:"error",children:"Error"})]})}),t.jsx(x.FormItem,{name:["logging","max_log_entries"],label:"最大日志条数",children:t.jsx(ne,{min:100,max:1e4})}),t.jsx(x.FormItem,{name:["logging","enable_log_to_file"],label:"启用文件日志",children:t.jsx(R,{})}),t.jsx(x.FormItem,{name:["logging","log_file_path"],label:"日志文件路径",children:t.jsx(Z,{placeholder:"请输入日志文件路径"})})]})]})})]})},zn=({onRefresh:s})=>{const{config:e,loading:r,error:n,updateUIConfig:o}=qe(),[l,i]=a.useState(!1),[c]=x.useForm();a.useEffect(()=>{e!=null&&e.ui&&c.setFieldsValue(e.ui)},[e==null?void 0:e.ui,c]);const j=async()=>{try{i(!0);const u=c.getFieldsValue(!0),m=Je.validateUIConfig(u);if(Object.keys(m).length>0){const S=Object.values(m)[0];v.error(`配置验证失败: ${S}`);return}await o(u),v.success("主题设置已保存"),s()}catch(u){console.error("保存主题设置失败:",u),v.error("保存主题设置失败")}finally{i(!1)}},b=()=>{e!=null&&e.ui&&c.setFieldsValue(e.ui)};return r?t.jsx(C,{loading:!0,style:{height:"400px"}}):n?t.jsx(C,{children:t.jsx(pe,{theme:"error",message:`加载主题配置失败: ${n}`})}):t.jsx("div",{children:t.jsx(C,{header:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:"主题设置"}),t.jsxs(E,{children:[t.jsx(g,{onClick:b,loading:l,children:"重置"}),t.jsx(g,{theme:"primary",onClick:j,loading:l,children:"保存"})]})]}),children:t.jsxs(x,{form:c,layout:"vertical",children:[t.jsx(x.FormItem,{name:"enableWebConsole",label:"启用Web控制台",help:"禁用后将无法访问Web管理界面，但其他功能（WebSocket、API等）仍正常工作",children:t.jsx(R,{})}),t.jsx(x.FormItem,{name:"theme",label:"主题模式",children:t.jsxs(B,{children:[t.jsx(B.Option,{value:"light",children:"浅色模式"}),t.jsx(B.Option,{value:"dark",children:"深色模式"}),t.jsx(B.Option,{value:"auto",children:"跟随系统"})]})}),t.jsx(x.FormItem,{name:"primaryColor",label:"主色调",children:t.jsx(Dr,{})}),t.jsx(x.FormItem,{name:"compact",label:"紧凑模式",children:t.jsx(R,{})}),t.jsx(x.FormItem,{name:"language",label:"语言",children:t.jsxs(B,{children:[t.jsx(B.Option,{value:"zh-CN",children:"简体中文"}),t.jsx(B.Option,{value:"en-US",children:"English"})]})}),t.jsx(x.FormItem,{name:"showBreadcrumb",label:"显示面包屑",children:t.jsx(R,{})}),t.jsx(x.FormItem,{name:"showFooter",label:"显示页脚",children:t.jsx(R,{})}),t.jsx(x.FormItem,{name:"enableAnimation",label:"启用动画",children:t.jsx(R,{})})]})})})},{Text:we}=K,J=x.FormItem;function Vn({onRefresh:s}){const[e,r]=a.useState(!1),[n,o]=a.useState([]),[l,i]=a.useState({total:0,active:0,inactive:0,today:0,thisWeek:0}),[c,j]=a.useState(!1),[b,u]=a.useState(!1),[m,S]=a.useState(null),[$,y]=a.useState([]),[k,p]=a.useState(!1),[h]=x.useForm(),[O]=x.useForm(),[W]=x.useForm(),[A]=x.useForm();a.useEffect(()=>{H()},[]);const H=async()=>{r(!0);try{const f=await P.getBlockedSecrets();o(f.bans||[]);const V=f.bans||[],d=new Date,L=new Date(d.getFullYear(),d.getMonth(),d.getDate()),w=new Date(L.getTime()-7*24*60*60*1e3),M={total:V.length,active:V.filter(N=>N.isActive===!0).length,inactive:V.filter(N=>N.isActive===!1).length,today:V.filter(N=>new Date(N.bannedAt)>=L).length,thisWeek:V.filter(N=>new Date(N.bannedAt)>=w).length};i(M)}catch(f){console.error("Failed to load bans:",f),v.error("加载封禁列表失败: "+((f==null?void 0:f.message)||"未知错误"))}finally{r(!1)}},G=async f=>{try{await P.unblockSecret(f),v.success(`已解除封禁: ${f}`),H(),s==null||s()}catch{v.error("解除封禁失败")}},Q=async f=>{try{await P.blockSecret(f.secret,f.reason),v.success(`已封禁密钥: ${f.secret}`),j(!1),O.reset(),H(),s==null||s()}catch{v.error("封禁失败")}},Y=async f=>{if(m)try{await P.updateBanRecord(m.id||0,f.reason||""),v.success("封禁记录更新成功"),u(!1),S(null),W.reset(),H(),s==null||s()}catch{v.error("更新失败")}},D=async f=>{try{await P.deleteBanRecord(f),v.success("封禁记录删除成功"),H(),s==null||s()}catch{v.error("删除失败")}},U=async f=>{if($.length===0){v.warning("请选择要操作的记录");return}try{const V=$.map(d=>{switch(f.operation){case"unblock":const L=n.find(w=>w.id===d);return L?P.unblockSecret(L.secret):Promise.resolve();case"delete":return D(d);default:return Promise.resolve()}});await Promise.all(V),v.success(`批量${f.operation}操作完成`),p(!1),y([]),A.reset(),H(),s==null||s()}catch{v.error("批量操作失败")}},ce=f=>{S(f),W.setFieldsValue(f),u(!0)},de=[{title:"批量选择",colKey:"select",width:60,ellipsis:!0,cell:({row:f})=>t.jsx(ar,{checked:$.includes(f.id||0),onChange:V=>{y(V?[...$,f.id||0]:$.filter(d=>d!==(f.id||0)))}})},{title:"被封禁的密钥",colKey:"secret",width:200,ellipsis:!0,cell:({row:f})=>t.jsx(we,{code:!0,style:{fontFamily:"monospace"},children:(f==null?void 0:f.secret)||"未知密钥"})},{title:"封禁原因说明",colKey:"reason",width:150,ellipsis:!0,cell:({row:f})=>t.jsx(we,{children:(f==null?void 0:f.reason)||"未提供原因"})},{title:"执行封禁时间",colKey:"bannedAt",width:180,ellipsis:!0,cell:({row:f})=>t.jsx(we,{children:f!=null&&f.bannedAt?new Date(f.bannedAt).toLocaleString():"未知时间"})},{title:"执行封禁的管理员",colKey:"bannedBy",width:120,ellipsis:!0,cell:({row:f})=>t.jsx(te,{color:"blue",children:(f==null?void 0:f.bannedBy)||"未知"})},{title:"当前封禁状态",colKey:"status",width:120,ellipsis:!0,cell:({row:f})=>t.jsx(re,{color:f.isActive===!0?"red":"green",children:f.isActive===!0?"已封禁":"已解封"})},{title:"管理操作",colKey:"actions",width:200,fixed:"right",cell:({row:f})=>t.jsxs(E,{children:[t.jsx(g,{size:"small",variant:"text",onClick:()=>ce(f),children:"编辑"}),f.isActive===!0&&t.jsx(ve,{content:"确定要解除封禁吗？",onConfirm:()=>G((f==null?void 0:f.secret)||""),children:t.jsx(g,{size:"small",theme:"success",variant:"outline",children:"解除封禁"})}),t.jsx(ve,{content:"确定要删除这条记录吗？",onConfirm:()=>D(f.id||0),children:t.jsx(g,{size:"small",theme:"danger",variant:"outline",icon:t.jsx(Ze,{}),children:"删除"})})]})}];return console.log("BanManager render - loading:",e,"bans:",n),t.jsxs("div",{style:{padding:"20px"},children:[t.jsxs(ir,{gutter:[16,16],style:{marginBottom:"24px"},children:[t.jsx(X,{span:6,children:t.jsx(C,{children:t.jsx(ee,{title:"总封禁数",value:l.total})})}),t.jsx(X,{span:6,children:t.jsx(C,{children:t.jsx(ee,{title:"活跃封禁",value:l.active})})}),t.jsx(X,{span:6,children:t.jsx(C,{children:t.jsx(ee,{title:"今日封禁",value:l.today})})}),t.jsx(X,{span:6,children:t.jsx(C,{children:t.jsx(ee,{title:"本周封禁",value:l.thisWeek})})})]}),t.jsx(C,{style:{marginBottom:"16px"},children:t.jsxs(x,{form:h,layout:"inline",children:[t.jsx(J,{name:"secret",label:"密钥",children:t.jsx(Z,{placeholder:"搜索密钥"})}),t.jsx(J,{name:"status",label:"状态",children:t.jsx(B,{placeholder:"选择状态",options:[{label:"全部",value:""},{label:"已封禁",value:"active"},{label:"已解封",value:"inactive"}]})}),t.jsx(J,{name:"dateRange",label:"时间范围",children:t.jsx(lr,{placeholder:"选择时间范围"})}),t.jsx(J,{children:t.jsx(g,{icon:t.jsx(br,{}),type:"submit",children:"搜索"})})]})}),t.jsx(C,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(ye,{}),t.jsx("span",{children:"封禁管理"})]}),t.jsxs(E,{children:[t.jsx(g,{icon:t.jsx(q,{}),onClick:H,loading:e,children:"刷新"}),$.length>0&&t.jsxs(g,{theme:"warning",onClick:()=>p(!0),children:["批量操作 (",$.length,")"]}),t.jsx(g,{theme:"primary",icon:t.jsx(He,{}),onClick:()=>j(!0),children:"封禁密钥"})]})]}),bordered:!1,children:n.length>0?t.jsx(Se,{data:n,columns:de,loading:e,rowKey:"id",bordered:!0,showHeader:!0,pagination:{pageSize:10,showJumper:!0},empty:"暂无封禁记录"}):t.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[t.jsx(we,{children:"暂无封禁记录"}),t.jsx("br",{}),t.jsx(g,{onClick:H,loading:e,children:"刷新数据"})]})}),t.jsx(ue,{visible:c,onClose:()=>j(!1),header:"封禁密钥",width:"500px",children:t.jsxs(x,{form:O,layout:"vertical",onSubmit:f=>{const V=f.fields;Q({secret:V.secret,reason:V.reason})},children:[t.jsx(J,{label:"密钥",name:"secret",rules:[{required:!0,message:"请输入要封禁的密钥"},{min:8,message:"密钥长度至少8位"}],children:t.jsx(Z,{placeholder:"请输入要封禁的密钥"})}),t.jsx(J,{label:"封禁原因",name:"reason",children:t.jsx(Z,{placeholder:"请输入封禁原因（可选）",maxlength:200})}),t.jsx(he,{}),t.jsx("div",{style:{textAlign:"right"},children:t.jsxs(E,{children:[t.jsx(g,{onClick:()=>j(!1),children:"取消"}),t.jsx(g,{theme:"primary",type:"submit",children:"确认封禁"})]})})]})}),t.jsxs(ue,{visible:b,onClose:()=>u(!1),header:"编辑封禁记录",width:"500px",children:[m&&t.jsxs("div",{style:{marginBottom:16,padding:12,backgroundColor:"#f0f9ff",borderRadius:4,border:"1px solid #bae6fd"},children:[t.jsx(K.Text,{strong:!0,children:"当前操作密钥："}),t.jsx(K.Text,{code:!0,style:{marginLeft:8,fontFamily:"monospace"},children:m.secret})]}),t.jsxs(x,{form:W,onSubmit:f=>Y(f.fields),layout:"vertical",children:[t.jsx(J,{name:"reason",label:"封禁原因",children:t.jsx(Z,{placeholder:"请输入封禁原因",maxlength:200})}),t.jsx(J,{children:t.jsxs(E,{children:[t.jsx(g,{type:"submit",theme:"primary",children:"保存"}),t.jsx(g,{onClick:()=>u(!1),children:"取消"})]})})]})]}),t.jsx(ue,{visible:k,onClose:()=>p(!1),header:"批量操作",width:"400px",children:t.jsxs(x,{form:A,onSubmit:f=>U(f),layout:"vertical",children:[t.jsx(J,{name:"operation",label:"操作类型",rules:[{required:!0,message:"请选择操作类型"}],children:t.jsx(B,{placeholder:"请选择操作类型",options:[{label:"解除封禁",value:"unblock"},{label:"删除记录",value:"delete"}]})}),t.jsx(J,{children:t.jsxs(E,{children:[t.jsx(g,{type:"submit",theme:"primary",children:"确认操作"}),t.jsx(g,{onClick:()=>p(!1),children:"取消"})]})})]})})]})}const{Title:Fe}=K,me=x.FormItem;function Tn(){const{config:s,loading:e,error:r,updateWebSocketConfig:n}=qe(),[o,l]=a.useState(!1),[i]=x.useForm();a.useEffect(()=>{s!=null&&s.websocket&&i.setFieldsValue(s.websocket)},[s==null?void 0:s.websocket,i]);const c=async b=>{try{l(!0);const u=Je.validateWebSocketConfig(b);if(Object.keys(u).length>0){const m=Object.values(u)[0];v.error(`配置验证失败: ${m}`);return}await n(b),v.success("WebSocket配置已保存")}catch(u){console.error("保存WebSocket配置失败:",u),v.error("保存WebSocket配置失败")}finally{l(!1)}},j=()=>{s!=null&&s.websocket&&i.setFieldsValue(s.websocket)};return e?t.jsx(C,{loading:!0,style:{height:"400px"}}):r?t.jsx(C,{children:t.jsx(pe,{theme:"error",message:`加载WebSocket配置失败: ${r}`})}):t.jsxs(C,{title:t.jsxs(E,{children:[t.jsx(Cr,{}),t.jsx("span",{children:"WebSocket 配置"})]}),actions:t.jsx(g,{variant:"outline",icon:t.jsx(be,{}),onClick:j,children:"重置默认值"}),children:[t.jsxs("div",{style:{marginBottom:24,padding:16,backgroundColor:"#f0f9ff",borderRadius:4,border:"1px solid #bae6fd"},children:[t.jsx(Fe,{level:"h6",style:{margin:"0 0 8px 0"},children:"WebSocket 心跳配置"}),t.jsx("div",{style:{color:"#0369a1",fontSize:14},children:"心跳机制用于检测连接状态，防止长时间无数据传输时连接被中断。如果网络环境稳定，可以禁用心跳以减少开销。"})]}),t.jsxs(x,{form:i,layout:"vertical",onSubmit:b=>{const u=b.fields;c(u)},children:[t.jsx(me,{label:"启用心跳检测",name:"enable_heartbeat",help:"是否启用WebSocket心跳检测机制",children:t.jsx(R,{label:["启用","禁用"]})}),t.jsx(he,{}),t.jsx(Fe,{level:"h6",style:{margin:"16px 0"},children:"心跳参数配置"}),t.jsx(me,{label:"服务器心跳间隔",name:"heartbeat_interval",help:"服务器发送心跳包的间隔时间（毫秒）",rules:[{required:!0,message:"请输入心跳间隔"},{validator:b=>{const u=Number(b);return u>=5e3&&u<=3e5},message:"心跳间隔应在5秒到5分钟之间"}],children:t.jsx(ne,{placeholder:"30000",min:5e3,max:3e5,step:1e3,suffix:"ms",style:{width:"100%"}})}),t.jsx(me,{label:"心跳超时时间",name:"heartbeat_timeout",help:"等待心跳响应的超时时间（毫秒）",rules:[{required:!0,message:"请输入超时时间"},{validator:b=>{const u=Number(b);return u>=1e3&&u<=3e4},message:"超时时间应在1秒到30秒之间"}],children:t.jsx(ne,{placeholder:"5000",min:1e3,max:3e4,step:500,suffix:"ms",style:{width:"100%"}})}),t.jsx(me,{label:"客户端心跳间隔",name:"client_heartbeat_interval",help:"客户端发送心跳包的间隔时间（毫秒），建议比服务器心跳间隔稍短",rules:[{required:!0,message:"请输入客户端心跳间隔"},{validator:b=>{const u=Number(b);return u>=5e3&&u<=3e5},message:"心跳间隔应在5秒到5分钟之间"}],children:t.jsx(ne,{placeholder:"25000",min:5e3,max:3e5,step:1e3,suffix:"ms",style:{width:"100%"}})}),t.jsxs("div",{style:{marginTop:16,padding:16,backgroundColor:"#fef3c7",borderRadius:4,border:"1px solid #fbbf24"},children:[t.jsx(Fe,{level:"h6",style:{margin:"0 0 8px 0",color:"#92400e"},children:"配置建议"}),t.jsxs("div",{style:{color:"#92400e",fontSize:14},children:["• 客户端心跳间隔应比服务器心跳间隔短5-10秒",t.jsx("br",{}),"• 网络环境良好时可适当增加心跳间隔以减少开销",t.jsx("br",{}),"• 修改配置后需要重新连接WebSocket才能生效"]})]}),t.jsx(he,{}),t.jsx(me,{children:t.jsxs(E,{children:[t.jsx(g,{theme:"primary",type:"submit",loading:o,children:"保存配置"}),t.jsx(g,{onClick:j,disabled:o,children:"重新加载"})]})})]})]})}const Hn=()=>{const[s,e]=Te.useState(null),r=(i,c)=>{navigator.clipboard.writeText(i),e(c),console.log("已复制到剪贴板"),setTimeout(()=>e(null),2e3)},n=[{category:"认证接口",endpoints:[{method:"POST",path:"/api/auth/login",description:"用户登录",request:{username:"admin",password:"admin123"},response:{success:!0,token:"jwt_token_here",message:"登录成功"}},{method:"POST",path:"/api/auth/logout",description:"用户登出",headers:"Authorization: Bearer <token>",response:{success:!0,message:"登出成功"}},{method:"GET",path:"/api/auth/verify",description:"验证Token",headers:"Authorization: Bearer <token>",response:{valid:!0,user:{username:"admin"}}}]},{category:"密钥管理",endpoints:[{method:"GET",path:"/api/secrets",description:"获取密钥列表",headers:"Authorization: Bearer <token>",response:{secrets:[{secret:"your-secret-key",enabled:!0,description:"测试机器人",max_connections:5,created_at:"2024-01-01T00:00:00.000Z",lastUsed:"2024-01-01T12:00:00.000Z"}]}},{method:"POST",path:"/api/secrets",description:"添加密钥",headers:"Authorization: Bearer <token>",request:{secret:"my-bot-key",description:"测试机器人",enabled:!0,max_connections:5},response:{success:!0}},{method:"PUT",path:"/api/secrets/:secret",description:"更新密钥",headers:"Authorization: Bearer <token>",request:{description:"更新的描述",enabled:!1},response:{success:!0}},{method:"DELETE",path:"/api/secrets/:secret",description:"删除密钥",headers:"Authorization: Bearer <token>",response:{success:!0}}]},{category:"连接管理",endpoints:[{method:"GET",path:"/api/connections",description:"获取连接状态",headers:"Authorization: Bearer <token>",response:{connections:[{secret:"your-secret-key",connected:!0,enabled:!0,description:"测试机器人",connectedAt:"2024-01-01T12:00:00.000Z"}],total:1}},{method:"POST",path:"/api/connections/:secret/kick",description:"踢出连接",headers:"Authorization: Bearer <token>",response:{success:!0,message:"连接已断开"}}]},{category:"系统管理",endpoints:[{method:"GET",path:"/api/health",description:"健康检查",response:{status:"healthy",timestamp:"2024-01-01T12:00:00.000Z",uptime:3600,memory:{heap_used:1024e3,heap_total:2048e3},cpu:{usage:25,cores:4,model:"Intel Core i7"},connections:1}},{method:"GET",path:"/api/logs",description:"获取日志",headers:"Authorization: Bearer <token>",query:"?limit=100&level=error",response:{logs:[{id:"1",timestamp:"2024-01-01T12:00:00.000Z",level:"info",message:"用户登录成功",details:{username:"admin"}}],total:1}},{method:"GET",path:"/api/dashboard/stats",description:"获取仪表盘统计",headers:"Authorization: Bearer <token>",response:{connections:{active:1,total:5},secrets:{total:5,blocked:0},logs:{total:100,error:5,warnings:10},system:{uptime:3600,memory:45,cpu:25,cpu_cores:4,cpu_model:"Intel Core i7",load_average:[.5,.8,1.2]}}}]},{category:"Webhook接口",endpoints:[{method:"POST",path:"/api/webhook",description:"接收Webhook消息",query:"?secret=YOUR_SECRET_KEY",request:{type:"message",data:{user_id:"12345",content:"Hello World",timestamp:1640995200}},response:{status:"推送成功"}}]}],o=(i,c)=>i?t.jsxs("div",{style:{marginTop:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:c}),t.jsx("pre",{style:{background:"var(--td-bg-color-container)",padding:"12px",borderRadius:"4px",fontSize:"12px",overflow:"auto",margin:0},children:JSON.stringify(i,null,2)})]}):null,l=(i,c)=>{const j=`http://localhost:3000${i.path}${i.query||""}`,b=s===`${i.method}-${i.path}`;return t.jsxs(C,{size:"small",style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsxs(E,{children:[t.jsx(te,{theme:i.method==="GET"?"success":i.method==="POST"?"primary":i.method==="PUT"?"warning":"danger",variant:"light",children:i.method}),t.jsx("code",{style:{fontSize:"14px",fontWeight:500},children:i.path})]}),t.jsx("p",{style:{margin:"8px 0 0 0",color:"var(--td-text-color-secondary)"},children:i.description})]}),t.jsx(g,{variant:"text",icon:b?t.jsx(Pe,{}):t.jsx(Ne,{}),size:"small",onClick:()=>r(j,`${i.method}-${i.path}`),children:b?"已复制":"复制"})]}),i.headers&&t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:"请求头"}),t.jsx("code",{style:{background:"var(--td-bg-color-container)",padding:"4px 8px",borderRadius:"4px",fontSize:"12px"},children:i.headers})]}),i.query&&t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:"查询参数"}),t.jsx("code",{style:{background:"var(--td-bg-color-container)",padding:"4px 8px",borderRadius:"4px",fontSize:"12px"},children:i.query})]}),o(i.request,"请求示例"),o(i.response,"响应示例")]},c)};return t.jsxs("div",{children:[t.jsxs(C,{title:"API 文档",style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("h3",{children:"基础信息"}),t.jsxs("p",{children:["API 基础地址: ",t.jsx("code",{children:"http://localhost:3000/api"})]}),t.jsx("p",{children:"认证方式: Bearer Token (JWT)"}),t.jsx("p",{children:"数据格式: JSON"})]}),t.jsx(he,{}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("h3",{children:"WebSocket 连接"}),t.jsxs("p",{children:["WebSocket 地址: ",t.jsx("code",{children:"ws://localhost:3000/ws/YOUR_SECRET_KEY"})]}),t.jsx("p",{children:"支持的消息类型:"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("code",{children:"ping"})," - 客户端心跳"]}),t.jsxs("li",{children:[t.jsx("code",{children:"pong"})," - 服务端心跳响应"]}),t.jsxs("li",{children:[t.jsx("code",{children:"webhook"})," - Webhook 消息"]}),t.jsxs("li",{children:[t.jsx("code",{children:"log"})," - 系统日志"]}),t.jsxs("li",{children:[t.jsx("code",{children:"connected"})," - 连接确认"]})]})]}),t.jsx(he,{}),t.jsxs("div",{children:[t.jsx("h3",{children:"错误码说明"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("code",{children:"400"})," - 请求参数错误"]}),t.jsxs("li",{children:[t.jsx("code",{children:"401"})," - 未授权，需要登录"]}),t.jsxs("li",{children:[t.jsx("code",{children:"403"})," - 禁止访问，权限不足"]}),t.jsxs("li",{children:[t.jsx("code",{children:"404"})," - 资源不存在"]}),t.jsxs("li",{children:[t.jsx("code",{children:"500"})," - 服务器内部错误"]})]})]})]}),t.jsx(Ge,{defaultValue:"0",children:n.map((i,c)=>t.jsx(Ge.TabPanel,{value:c.toString(),label:i.category,children:i.endpoints.map((j,b)=>l(j,b))},c))})]})},{Title:$e,Paragraph:sr}=K,Nn=({children:s})=>{const[e,r]=a.useState(null),[n,o]=a.useState(!0),[l,i]=a.useState(null),c=async()=>{try{o(!0),i(null);const j=await P.getWebConsoleStatus();r(j.enabled)}catch(j){console.error("检查Web控制台状态失败:",j),i("无法连接到服务器")}finally{o(!1)}};return a.useEffect(()=>{c()},[]),n?t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[t.jsx(C,{style:{width:"400px",textAlign:"center"},children:t.jsxs("div",{style:{padding:"40px 20px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #165DFF",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),t.jsx($e,{level:"h4",children:"正在检查Web控制台状态..."})]})}),t.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):l?t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:t.jsx(C,{style:{width:"500px",textAlign:"center"},children:t.jsxs("div",{style:{padding:"40px 20px"},children:[t.jsx(pe,{theme:"error",message:"连接失败"}),t.jsx($e,{level:"h4",style:{marginTop:"20px"},children:"无法连接到服务器"}),t.jsx(sr,{style:{color:"#666",margin:"20px 0"},children:"请检查服务器是否正在运行，或网络连接是否正常"}),t.jsx(g,{theme:"primary",icon:t.jsx(q,{}),onClick:c,children:"重试"})]})})}):e===!1?t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:t.jsx(C,{style:{width:"500px",textAlign:"center"},children:t.jsxs("div",{style:{padding:"40px 20px"},children:[t.jsx("div",{style:{fontSize:"64px",color:"#ff6b6b",marginBottom:"20px"},children:"🚫"}),t.jsx($e,{level:"h3",style:{color:"#ff6b6b"},children:"Web控制台已禁用"}),t.jsx(sr,{style:{color:"#666",margin:"20px 0"},children:"管理员已禁用Web控制台访问。请联系管理员启用Web控制台功能。"}),t.jsx(pe,{theme:"warning",message:"其他功能（如WebSocket连接、API接口等）仍然正常工作",style:{margin:"20px 0"}}),t.jsxs(E,{children:[t.jsx(g,{icon:t.jsx(q,{}),onClick:c,children:"重新检查"}),t.jsx(g,{variant:"outline",icon:t.jsx(be,{}),onClick:()=>window.location.reload(),children:"刷新页面"})]})]})})}):t.jsx(t.Fragment,{children:s})},{MenuItem:Zn}=cr,or=[{key:"dashboard",icon:t.jsx(mr,{}),label:"仪表盘"},{key:"secrets",icon:t.jsx(Ke,{}),label:"密钥管理"},{key:"connections",icon:t.jsx(je,{}),label:"连接管理"},{key:"logs",icon:t.jsx(Re,{}),label:"日志查看"},{key:"bans",icon:t.jsx(Le,{}),label:"封禁管理"},{key:"websocket",icon:t.jsx(je,{}),label:"WebSocket设置"},{key:"config",icon:t.jsx(be,{}),label:"系统配置"},{key:"theme",icon:t.jsx(yr,{}),label:"主题设置"},{key:"docs",icon:t.jsx(_e,{}),label:"API文档"}],Wn=()=>{var Y;const[s,e]=a.useState(!1),[r,n]=a.useState("dashboard"),[o,l]=a.useState(!1),[i,c]=a.useState(!1),[j,b]=a.useState([]),[u,m]=a.useState([]),[S,$]=a.useState(!1),{toggleTheme:y,isDark:k,clearThemeCache:p}=Sr(),{toasts:h,removeToast:O,success:W}=_n();a.useEffect(()=>{(async()=>{try{(await P.checkAuth()).isAuthenticated?(e(!0),A()):e(!1)}catch(U){console.error("认证检查失败:",U),e(!1)}})()},[]);const A=async()=>{try{$(!0);const[D,U]=await Promise.all([P.getLogs(),P.getConnections()]);b(D.logs||[]),m(U.connections||[])}catch(D){console.error("加载数据失败:",D)}finally{$(!1)}},H=()=>{e(!0),A(),W("登录成功","欢迎使用NekoBridge",3e3)},G=()=>{localStorage.removeItem("auth_token"),e(!1),n("dashboard"),W("已退出登录","感谢使用NekoBridge",2e3)},Q=()=>{switch(r){case"dashboard":return t.jsx(nr,{logs:j,connections:u,blockedSecrets:[],isConnected:!0,onRefresh:A,loading:S,onNavigate:n});case"secrets":return t.jsx($n,{onRefresh:A});case"connections":return t.jsx(An,{connections:u,onRefresh:A,loading:S});case"logs":return t.jsx(Mn,{logs:j,onRefresh:A,loading:S});case"bans":return t.jsx(Vn,{onRefresh:A});case"websocket":return t.jsx(Tn,{});case"config":return t.jsx(Bn,{onRefresh:A});case"theme":return t.jsx(zn,{onRefresh:A});case"docs":return t.jsx(Hn,{});default:return t.jsx(nr,{logs:j,connections:u,blockedSecrets:[],isConnected:!0,onRefresh:A,loading:S,onNavigate:n})}};return console.log("App render - isAuthenticated:",s,"currentTab:",r),s?t.jsx(Nn,{children:t.jsxs("div",{style:{height:"100vh",display:"flex"},children:[t.jsxs("div",{style:{width:o?"60px":"240px",background:k?"#1A1A1A":"#f5f5f5",borderRight:`1px solid ${k?"#404040":"#e0e0e0"}`,transition:"width 0.3s ease",display:"flex",flexDirection:"column"},children:[t.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${k?"#404040":"#e0e0e0"}`,fontSize:"18px",fontWeight:"bold",color:k?"#FFFFFF":"#333",display:"flex",alignItems:"center",justifyContent:"space-between",textShadow:k?"0 0 10px rgba(255,255,255,0.1)":"none"},children:[t.jsx("span",{children:o?"🐱":"🐱 NekoBridge"}),!o&&t.jsx(g,{variant:"text",icon:t.jsx(Oe,{}),onClick:()=>l(!o),size:"small"})]}),t.jsx(cr,{value:r,onChange:D=>n(D),style:{border:"none",flex:1},children:or.map(D=>t.jsx(Zn,{value:D.key,children:t.jsxs(E,{children:[D.icon,!o&&t.jsx("span",{style:{color:k?"#E0E0E0":"#333",fontWeight:"500"},children:D.label}),D.badge&&D.badge>0&&t.jsx(re,{count:D.badge,size:"small"})]})},D.key))})]}),t.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[t.jsxs("div",{style:{height:"60px",background:k?"#1A1A1A":"#fff",borderBottom:`1px solid ${k?"#404040":"#e0e0e0"}`,padding:"0 24px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx(g,{variant:"text",icon:t.jsx(Oe,{}),onClick:()=>c(!0),style:{marginRight:"16px"}}),t.jsx(K.Text,{style:{color:k?"#FFFFFF":"#666",fontWeight:"600",fontSize:"16px"},children:(Y=or.find(D=>D.key===r))==null?void 0:Y.label})]}),t.jsxs(E,{children:[t.jsx(R,{value:k,onChange:()=>{y(),W("主题切换成功",`已切换到${k?"浅色模式":"深色模式"}`,2e3)},label:"深色模式"}),t.jsx(g,{variant:"text",size:"small",onClick:()=>{p(),W("缓存已清理","主题已重置为默认浅色模式",2e3)},children:"清理缓存"}),t.jsx(Ir,{trigger:"click",options:[{content:"个人设置",value:"profile"},{content:"系统设置",value:"system"},{content:"帮助文档",value:"help"}],children:t.jsx(g,{variant:"text",icon:t.jsx(Ue,{}),children:"管理员"})}),t.jsx(g,{variant:"text",icon:t.jsx(Le,{}),onClick:G,children:"退出"})]})]}),t.jsx("div",{style:{flex:1,padding:"24px",background:k?"#0D0D0D":"#fafafa",overflow:"auto"},children:Q()})]}),t.jsx(Fr,{visible:i,onClose:()=>c(!1),header:"快速操作",size:"360px",children:t.jsxs(E,{direction:"vertical",style:{width:"100%"},children:[t.jsxs(C,{children:[t.jsx(K.Title,{level:"h4",children:"系统状态"}),t.jsxs(E,{direction:"vertical",style:{width:"100%"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{children:"活跃连接"}),t.jsx(re,{count:u.filter(D=>D.connected).length})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{children:"总日志数"}),t.jsx(re,{count:j.length})]})]})]}),t.jsxs(C,{children:[t.jsx(K.Title,{level:"h4",children:"快速操作"}),t.jsxs(E,{direction:"vertical",style:{width:"100%"},children:[t.jsx(g,{block:!0,icon:t.jsx(q,{}),onClick:()=>{A(),c(!1)},children:"刷新数据"}),t.jsx(g,{block:!0,icon:t.jsx(be,{}),onClick:()=>{n("config"),c(!1)},children:"系统配置"})]})]})]})}),h.map(D=>t.jsx(Dn,{...D,onClose:O},D.id))]})}):(console.log("Showing login page"),t.jsx(Fn,{onLogin:H}))};Ae.createRoot(document.getElementById("root")).render(t.jsx(Te.StrictMode,{children:t.jsx(Wn,{})}));
